<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Numeralis - Sistema Numerol√≥gico Completo Aurora Sagrada</title>
  <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;500;600&family=Cormorant+Garamond:ital,wght@0,400;0,500;0,600;1,400&display=swap" rel="stylesheet">
  <style>
    :root{ 
      --wine:#3e0a29; 
      --sage:#b2d1b1; 
      --navy:#0b1836; 
      --gold:#f0aa53; 
      --parch:#f2eaff;
    }
    
    * { box-sizing: border-box; }
    
    html,body{height:100%; margin:0; padding:0;}
    
    body{ 
      font-family:"Cormorant Garamond",serif; 
      background: var(--navy);
      background-image: 
        radial-gradient(circle at 25% 25%, rgba(240,170,83,0.03) 0%, transparent 50%),
        radial-gradient(circle at 75% 75%, rgba(178,209,177,0.03) 0%, transparent 50%),
        url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23f2eaff' fill-opacity='0.02'%3E%3Cpath d='M30 30c0-11.046-8.954-20-20-20s-20 8.954-20 20 8.954 20 20 20 20-8.954 20-20zm0 0c0 11.046 8.954 20 20 20s20-8.954 20-20-8.954-20-20-20-20 8.954-20 20z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E");
      color:var(--parch); 
      min-height:100vh;
      position: relative;
    }
    
    /* Header */
    .header {
      text-align: center;
      padding: 2rem 1rem;
      background: linear-gradient(135deg, var(--wine) 0%, var(--navy) 100%);
      border-bottom: 2px solid var(--gold);
      position: relative;
      overflow: hidden;
    }
    
    .header::before {
      content: '‚ú¶';
      position: absolute;
      top: 1rem;
      left: 2rem;
      font-size: 1.5rem;
      color: var(--gold);
      opacity: 0.6;
    }
    
    .header::after {
      content: '‚ú¶';
      position: absolute;
      top: 1rem;
      right: 2rem;
      font-size: 1.5rem;
      color: var(--gold);
      opacity: 0.6;
    }
    
    .header h1 {
      font-family: "Cinzel", serif;
      font-size: 2.5rem;
      font-weight: 600;
      margin: 0;
      background: linear-gradient(45deg, var(--gold), var(--parch));
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      text-shadow: 0 0 20px rgba(240,170,83,0.3);
    }
    
    .header p {
      font-size: 1.1rem;
      margin: 0.5rem 0 0 0;
      color: var(--sage);
      font-style: italic;
    }
    
    /* Navigation Tabs */
    .nav-container {
      background: rgba(62,10,41,0.8);
      backdrop-filter: blur(10px);
      border-bottom: 1px solid var(--gold);
      position: sticky;
      top: 0;
      z-index: 100;
    }
    
    .nav-tabs {
      display: flex;
      justify-content: center;
      max-width: 1200px;
      margin: 0 auto;
      padding: 0;
      list-style: none;
      flex-wrap: wrap;
    }
    
    .nav-tab {
      margin: 0;
    }
    
    .nav-tab button {
      background: transparent;
      border: none;
      color: var(--parch);
      padding: 1rem 1.5rem;
      font-family: "Cinzel", serif;
      font-size: 0.9rem;
      font-weight: 500;
      cursor: pointer;
      transition: all 0.3s ease;
      border-bottom: 2px solid transparent;
      position: relative;
    }
    
    .nav-tab button:hover {
      color: var(--gold);
      background: rgba(240,170,83,0.1);
    }
    
    .nav-tab.active button {
      color: var(--gold);
      border-bottom-color: var(--gold);
      background: rgba(240,170,83,0.1);
    }
    
    /* Main Content */
    .main-content {
      max-width: 1200px;
      margin: 0 auto;
      padding: 2rem 1rem;
    }
    
    .section {
      display: none;
    }
    
    .section.active {
      display: block;
    }
    
    /* Cards */
    .card {
      background: rgba(62,10,41,0.6);
      backdrop-filter: blur(10px);
      border: 1px solid rgba(240,170,83,0.3);
      border-radius: 15px;
      padding: 2rem;
      margin-bottom: 2rem;
      box-shadow: 0 8px 32px rgba(0,0,0,0.3);
    }
    
    .card h2 {
      font-family: "Cinzel", serif;
      color: var(--gold);
      text-align: center;
      margin-bottom: 1.5rem;
      font-size: 1.8rem;
    }
    
    .card h3 {
      font-family: "Cinzel", serif;
      color: var(--gold);
      margin-bottom: 1rem;
      font-size: 1.4rem;
    }
    
    /* Form Elements */
    .form-group {
      margin-bottom: 1.5rem;
    }
    
    .form-row {
      display: flex;
      gap: 1rem;
      flex-wrap: wrap;
    }
    
    .form-row .form-group {
      flex: 1;
      min-width: 250px;
    }
    
    label {
      display: block;
      margin-bottom: 0.5rem;
      color: var(--sage);
      font-weight: 500;
    }
    
    input, select {
      width: 100%;
      padding: 0.8rem;
      border: 1px solid rgba(240,170,83,0.3);
      border-radius: 8px;
      background: rgba(11,24,54,0.8);
      color: var(--parch);
      font-family: "Cormorant Garamond", serif;
      font-size: 1rem;
    }
    
    input:focus, select:focus {
      outline: none;
      border-color: var(--gold);
      box-shadow: 0 0 10px rgba(240,170,83,0.3);
    }
    
    /* Buttons */
    .btn {
      background: linear-gradient(135deg, var(--gold) 0%, #e09142 100%);
      color: var(--navy);
      border: none;
      padding: 0.8rem 1.5rem;
      border-radius: 8px;
      font-family: "Cinzel", serif;
      font-weight: 500;
      cursor: pointer;
      transition: all 0.3s ease;
      margin: 0.25rem;
    }
    
    .btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 5px 15px rgba(240,170,83,0.4);
    }
    
    .btn-secondary {
      background: linear-gradient(135deg, var(--sage) 0%, #9bc49a 100%);
    }
    
    .btn-danger {
      background: linear-gradient(135deg, var(--wine) 0%, #5a1238 100%);
      color: var(--parch);
    }
    
    .button-group {
      text-align: center;
      margin-top: 1.5rem;
    }
    
    /* Results */
    .results {
      margin-top: 2rem;
    }
    
    .result-item {
      background: rgba(11,24,54,0.6);
      border: 1px solid rgba(178,209,177,0.3);
      border-radius: 10px;
      padding: 1.5rem;
      margin-bottom: 1rem;
    }
    
    .result-item h4 {
      color: var(--gold);
      margin-bottom: 0.5rem;
      font-family: "Cinzel", serif;
    }
    
    .number-display {
      font-size: 2rem;
      font-weight: bold;
      color: var(--gold);
      text-align: center;
      margin: 1rem 0;
    }
    
    /* Pyramid Styles */
    .pyramid-container {
      display: flex;
      flex-direction: column;
      align-items: center;
      margin: 2rem 0;
      max-width: 100%;
      overflow-x: auto;
    }
    
    .pyramid-row {
      display: flex;
      justify-content: center;
      margin: 0.25rem 0;
      flex-wrap: nowrap;
    }
    
    .pyramid-cell {
      width: 35px;
      height: 35px;
      border: 1px solid var(--gold);
      display: flex;
      align-items: center;
      justify-content: center;
      margin: 0 1px;
      background: rgba(62,10,41,0.6);
      color: var(--parch);
      font-weight: bold;
      border-radius: 4px;
      font-size: 0.8rem;
    }
    
    .pyramid-cell.highlight {
      background: var(--gold);
      color: var(--navy);
      box-shadow: 0 0 15px rgba(240,170,83,0.6);
    }
    
    .pyramid-cell.negative-sequence {
      background: var(--wine);
      color: var(--parch);
      box-shadow: 0 0 10px rgba(62,10,41,0.8);
    }
    
    /* Interpretations */
    .interpretation {
      background: rgba(11,24,54,0.4);
      border-left: 4px solid var(--gold);
      padding: 1.5rem;
      margin: 1rem 0;
      border-radius: 0 10px 10px 0;
    }
    
    .interpretation h4 {
      color: var(--gold);
      margin-bottom: 1rem;
      font-family: "Cinzel", serif;
    }
    
    .interpretation p {
      line-height: 1.6;
      margin-bottom: 1rem;
    }
    
    /* Negative Sequences Alert */
    .negative-alert {
      background: rgba(62,10,41,0.8);
      border: 2px solid var(--wine);
      border-radius: 10px;
      padding: 1.5rem;
      margin: 1rem 0;
      color: var(--parch);
    }
    
    .negative-alert h4 {
      color: var(--gold);
      margin-bottom: 1rem;
      font-family: "Cinzel", serif;
    }
    
    /* Compatibility Grid */
    .compatibility-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 1rem;
      margin: 1.5rem 0;
    }
    
    .compatibility-card {
      background: rgba(11,24,54,0.6);
      border: 1px solid rgba(178,209,177,0.3);
      border-radius: 10px;
      padding: 1.5rem;
      text-align: center;
    }
    
    .compatibility-number {
      font-size: 2rem;
      font-weight: bold;
      color: var(--gold);
      margin-bottom: 0.5rem;
    }
    
    .compatibility-type {
      font-family: "Cinzel", serif;
      color: var(--sage);
      margin-bottom: 1rem;
    }
    
    .text-center {
      text-align: center;
    }
    
    /* Responsive */
    @media (max-width: 768px) {
      .header h1 {
        font-size: 2rem;
      }
      
      .nav-tabs {
        flex-direction: column;
      }
      
      .nav-tab button {
        padding: 0.8rem 1rem;
        font-size: 0.8rem;
      }
      
      .form-row {
        flex-direction: column;
      }
      
      .main-content {
        padding: 1rem;
      }
      
      .card {
        padding: 1.5rem;
      }
      
      .pyramid-cell {
        width: 30px;
        height: 30px;
        font-size: 0.7rem;
      }
    }
    
    /* Hidden class */
    .hidden {
      display: none !important;
    }
  </style>
</head>
<body>
  <div class="header">
    <h1>NUMERALIS</h1>
    <p>Sistema Numerol√≥gico Completo Aurora Sagrada</p>
  </div>

  <nav class="nav-container">
    <ul class="nav-tabs">
        <li class="nav-tab active" id="tab-mapa">
          <a href="#mapa-pitagorico" onclick="
            document.querySelectorAll('.nav-tab').forEach(t => t.classList.remove('active'));
            document.querySelectorAll('.section').forEach(s => s.style.display = 'none');
            this.closest('.nav-tab').classList.add('active');
            document.getElementById('mapa-pitagorico').style.display = 'block';
            return true;
          ">üåü Mapa Pitag√≥rico</a>
        </li>
        <li class="nav-tab" id="tab-piramide">
          <a href="#piramide-cabalistica" onclick="
            document.querySelectorAll('.nav-tab').forEach(t => t.classList.remove('active'));
            document.querySelectorAll('.section').forEach(s => s.style.display = 'none');
            this.closest('.nav-tab').classList.add('active');
            document.getElementById('piramide-cabalistica').style.display = 'block';
            return true;
          ">üî∫ Pir√¢mide Cabal√≠stica</a>
        </li>
        <li class="nav-tab" id="tab-pinaculos">
          <a href="#pinaculos-vida" onclick="
            document.querySelectorAll('.nav-tab').forEach(t => t.classList.remove('active'));
            document.querySelectorAll('.section').forEach(s => s.style.display = 'none');
            this.closest('.nav-tab').classList.add('active');
            document.getElementById('pinaculos-vida').style.display = 'block';
            return true;
          ">üèîÔ∏è Pin√°culos da Vida</a>
        </li>
        <li class="nav-tab" id="tab-sinastria">
          <a href="#sinastria-numerologica" onclick="
            document.querySelectorAll('.nav-tab').forEach(t => t.classList.remove('active'));
            document.querySelectorAll('.section').forEach(s => s.style.display = 'none');
            this.closest('.nav-tab').classList.add('active');
            document.getElementById('sinastria-numerologica').style.display = 'block';
            return true;
          ">üíï Sinastria Numerol√≥gica</a>
        </li>
    </ul>
  </nav>

  <main class="main-content">
    <!-- Mapa Pitag√≥rico -->
    <section id="mapa-pitagorico" class="section active">
      <div class="card">
        <h2>üåü Mapa Pitag√≥rico Completo</h2>
        <p style="text-align: center; color: var(--sage); margin-bottom: 2rem;">
          Descubra os n√∫meros que regem sua personalidade, destino e li√ß√µes c√°rmicas atrav√©s da sabedoria pitag√≥rica ancestral
        </p>
        
        <div class="form-row">
          <div class="form-group">
            <label for="nomeCompleto">Nome Completo de Nascimento</label>
            <input type="text" id="nomeCompleto" placeholder="Digite seu nome completo de nascimento">
          </div>
          <div class="form-group">
            <label for="dataNascimento">Data de Nascimento</label>
            <input type="date" id="dataNascimento">
          </div>
        </div>
        
        <div class="button-group">
          <button class="btn" onclick="calcularMapaCompleto()">üåü Calcular Mapa Completo</button>
          <button class="btn btn-secondary" onclick="preencherExemploMapa()">üìù Exemplo</button>
          <button class="btn btn-danger" onclick="limparMapa()">üóëÔ∏è Limpar</button>
        </div>
        
        <div id="resultados-mapa" class="results hidden"></div>
      </div>
    </section>

    <!-- Pir√¢mide Cabal√≠stica -->
    <section id="piramide-cabalistica" class="section">
      <div class="card">
        <h2>üî∫ Pir√¢mide Invertida Cabal√≠stica</h2>
        <p style="text-align: center; color: var(--sage); margin-bottom: 2rem;">
          Ciclo de 90 Anos - Arcanos Regentes da Vida e Sequ√™ncias Negativas<br>
          Descubra seu Arcano Regente atual e identifique padr√µes que influenciam sua jornada
        </p>
        
        <div class="form-row">
          <div class="form-group">
            <label for="nomePiramide">Nome Completo de Nascimento</label>
            <input type="text" id="nomePiramide" placeholder="Digite seu nome completo de nascimento">
          </div>
          <div class="form-group">
            <label for="idadePiramide">Idade Atual</label>
            <input type="number" id="idadePiramide" placeholder="Sua idade atual" min="0" max="120">
          </div>
        </div>
        
        <div class="button-group">
          <button class="btn" onclick="calcularPiramideCompleta()">üî∫ Calcular Pir√¢mide</button>
          <button class="btn btn-secondary" onclick="preencherExemploPiramide()">üìù Exemplo</button>
          <button class="btn btn-danger" onclick="limparPiramide()">üóëÔ∏è Limpar</button>
        </div>
        
        <div id="resultados-piramide" class="results hidden"></div>
      </div>
    </section>

    <!-- Pin√°culos da Vida -->
    <section id="pinaculos-vida" class="section">
      <div class="card">
        <h2>üèîÔ∏è Pin√°culos da Vida</h2>
        <p style="text-align: center; color: var(--sage); margin-bottom: 2rem;">
          Os quatro grandes ciclos de aprendizado e crescimento da sua jornada terrena
        </p>
        
        <div class="form-row">
          <div class="form-group">
            <label for="nomePinaculos">Nome Completo</label>
            <input type="text" id="nomePinaculos" placeholder="Digite seu nome completo">
          </div>
          <div class="form-group">
            <label for="dataPinaculos">Data de Nascimento</label>
            <input type="date" id="dataPinaculos">
          </div>
        </div>
        
        <div class="button-group">
          <button class="btn" onclick="calcularPinaculosCompletos()">üèîÔ∏è Calcular Pin√°culos</button>
          <button class="btn btn-secondary" onclick="preencherExemploPinaculos()">üìù Exemplo</button>
          <button class="btn btn-danger" onclick="limparPinaculos()">üóëÔ∏è Limpar</button>
        </div>
        
        <div id="resultados-pinaculos" class="results hidden"></div>
      </div>
    </section>

    <!-- Sinastria Numerol√≥gica -->
    <section id="sinastria-numerologica" class="section">
      <div class="card">
        <h2>üíï Sinastria Numerol√≥gica</h2>
        <p style="text-align: center; color: var(--sage); margin-bottom: 2rem;">
          An√°lise completa de compatibilidade amorosa atrav√©s dos n√∫meros sagrados
        </p>
        
        <div class="form-row">
          <div class="form-group">
            <label for="nomePessoa1">Nome Completo - Pessoa 1</label>
            <input type="text" id="nomePessoa1" placeholder="Digite o nome da primeira pessoa">
          </div>
          <div class="form-group">
            <label for="dataPessoa1">Data de Nascimento - Pessoa 1</label>
            <input type="date" id="dataPessoa1">
          </div>
        </div>
        
        <div class="form-row">
          <div class="form-group">
            <label for="nomePessoa2">Nome Completo - Pessoa 2</label>
            <input type="text" id="nomePessoa2" placeholder="Digite o nome da segunda pessoa">
          </div>
          <div class="form-group">
            <label for="dataPessoa2">Data de Nascimento - Pessoa 2</label>
            <input type="date" id="dataPessoa2">
          </div>
        </div>
        
        <div class="button-group">
          <button class="btn" onclick="calcularSinastria()">üíï Calcular Compatibilidade</button>
          <button class="btn btn-secondary" onclick="preencherExemploSinastria()">üìù Exemplo</button>
          <button class="btn btn-danger" onclick="limparSinastria()">üóëÔ∏è Limpar</button>
        </div>
        
        <div id="resultados-sinastria" class="results hidden"></div>
      </div>
    </section>
  </main>

  <script src="interpretacoes_pitagoricas_ultra_expandidas.js"></script>
    <script src="piramide_cabalistica_corrigida.js"></script>
    <script src="textos_pinaculos_melhorados.js"></script>
    <script src="sinastria_expandida_completa.js"></script>
  <script>
    // Mapeamento das vari√°veis carregadas dos arquivos externos
    window.addEventListener('load', function() {
      // Mapear vari√°veis dos arquivos JS para nomes esperados pelo c√≥digo
      if (typeof interpretacoesPitagoricasUltraExpandidas !== 'undefined') {
        window.interpretacoesPitagoricas = interpretacoesPitagoricasUltraExpandidas;
      }
    });
    
    // Tabelas numerol√≥gicas
    const tabelaPitagorica = {
      'A': 1, 'B': 2, 'C': 3, 'D': 4, 'E': 5, 'F': 6, 'G': 7, 'H': 8, 'I': 9,
      'J': 1, 'K': 2, 'L': 3, 'M': 4, 'N': 5, 'O': 6, 'P': 7, 'Q': 8, 'R': 9,
      'S': 1, 'T': 2, 'U': 3, 'V': 4, 'W': 5, 'X': 6, 'Y': 7, 'Z': 8
    };

    const tabelaCabalistica = {
      'A': 1, 'B': 2, 'C': 3, 'D': 4, 'E': 5, 'F': 6, 'G': 7, 'H': 8,
      'I': 1, 'J': 2, 'K': 3, 'L': 4, 'M': 5, 'N': 6, 'O': 7, 'P': 8,
      'Q': 1, 'R': 2, 'S': 3, 'T': 4, 'U': 5, 'V': 6, 'W': 7, 'X': 8,
      'Y': 1, 'Z': 2
    };

    const vogais = ['A', 'E', 'I', 'O', 'U'];
    const numerosMestres = [11, 22, 33];
    const numerosKarmicos = [13, 14, 16, 19];

    // Nomes dos Arcanos
    const nomesArcanos = {
      0: "O Louco", 1: "O Mago", 2: "A Sacerdotisa", 3: "A Imperatriz", 4: "O Imperador",
      5: "O Papa", 6: "Os Enamorados", 7: "O Carro", 8: "A For√ßa", 9: "O Eremita",
      10: "A Roda da Fortuna", 11: "A Justi√ßa", 12: "O Enforcado", 13: "A Morte",
      14: "A Temperan√ßa", 15: "O Diabo", 16: "A Torre", 17: "A Estrela", 18: "A Lua",
      19: "O Sol", 20: "O Julgamento", 21: "O Mundo", 22: "O Louco"
    };

    // Sequ√™ncias Negativas da Pir√¢mide Cabal√≠stica
    const sequenciasNegativasInfo = {
      111: {
        titulo: "Sequ√™ncia 111 - O Bloqueio da Iniciativa Primordial",
        texto: "A manifesta√ß√£o da sequ√™ncia 111 na pir√¢mide cabal√≠stica representa um dos padr√µes mais desafiadores da numerologia esot√©rica, criando uma estagna√ß√£o profunda que afeta a capacidade fundamental de iniciar movimentos na vida. Esta configura√ß√£o num√©rica atua como um bloqueio energ√©tico que impede o fluxo natural da for√ßa vital, criando uma resist√™ncia inconsciente a qualquer forma de mudan√ßa ou progresso. Pessoas que carregam esta sequ√™ncia em sua pir√¢mide frequentemente experimentam longos per√≠odos de paralisia existencial, onde mesmo as decis√µes mais simples se tornam monumentalmente dif√≠ceis. A energia estagnada do 111 cria um campo de in√©rcia que se manifesta tanto no plano f√≠sico quanto no emocional, resultando em uma sensa√ß√£o constante de estar 'preso' ou 'travado' em situa√ß√µes que n√£o oferecem crescimento ou satisfa√ß√£o. No aspecto da sa√∫de, esta sequ√™ncia est√° diretamente relacionada com dist√∫rbios circulat√≥rios graves, pois a estagna√ß√£o energ√©tica se reflete literalmente no sistema cardiovascular. Aneurismas, embolias, tromboses e infartos s√£o manifesta√ß√µes f√≠sicas comuns desta configura√ß√£o, representando simbolicamente a incapacidade do sangue - e da energia vital - de fluir livremente pelo organismo. A supera√ß√£o desta influ√™ncia requer um trabalho consciente e gradual de desbloqueio energ√©tico, come√ßando com pequenas a√ß√µes di√°rias que quebrem o padr√£o de in√©rcia e restabele√ßam o fluxo natural da vida."
      },
      222: {
        titulo: "Sequ√™ncia 222 - A Pris√£o da Indecis√£o e o Labirinto da Depend√™ncia",
        texto: "A sequ√™ncia 222 na pir√¢mide cabal√≠stica revela uma das configura√ß√µes mais sutilmente destrutivas da numerologia esot√©rica, criando um padr√£o de indecis√£o cr√¥nica que se infiltra em todos os aspectos da exist√™ncia como uma n√©voa paralisante. Esta configura√ß√£o num√©rica atua como um campo magn√©tico que atrai situa√ß√µes onde a pessoa se v√™ constantemente for√ßada a escolher entre op√ß√µes que parecem igualmente v√°lidas ou igualmente problem√°ticas, criando um estado perp√©tuo de ansiedade decis√≥ria. Indiv√≠duos que carregam esta sequ√™ncia desenvolvem uma depend√™ncia patol√≥gica da opini√£o e aprova√ß√£o de outros, perdendo gradualmente a conex√£o com sua pr√≥pria voz interior e capacidade de discernimento. A energia do 222 cria uma din√¢mica viciosa onde cada decis√£o adiada fortalece o padr√£o de indecis√£o, tornando as pr√≥ximas escolhas ainda mais dif√≠ceis e angustiantes. Esta configura√ß√£o frequentemente resulta em relacionamentos codependentes onde a pessoa assume o papel de v√≠tima ou salvador, sempre buscando valida√ß√£o externa para sua pr√≥pria exist√™ncia. No aspecto da sa√∫de f√≠sica, a sequ√™ncia 222 manifesta-se atrav√©s de dist√∫rbios que refletem a instabilidade emocional: v√≠cios em subst√¢ncias, comportamentos compulsivos, hipocondria e uma tend√™ncia a desenvolver depend√™ncias que proporcionem al√≠vio tempor√°rio da ansiedade constante. A transforma√ß√£o desta energia requer um trabalho corajoso de reconex√£o com a intui√ß√£o pessoal e o desenvolvimento gradual da confian√ßa nas pr√≥prias percep√ß√µes e julgamentos."
      },
      333: {
        titulo: "Sequ√™ncia 333 - O Sil√™ncio For√ßado e a Pris√£o da Express√£o",
        texto: "A sequ√™ncia 333 na pir√¢mide cabal√≠stica representa uma das configura√ß√µes mais tragicamente ir√¥nicas da numerologia esot√©rica, criando indiv√≠duos que possuem uma riqueza interior extraordin√°ria mas que se encontram cronicamente incapazes de compartilhar seus tesouros com o mundo. Esta configura√ß√£o num√©rica atua como uma barreira energ√©tica que bloqueia os canais de comunica√ß√£o, criando uma pris√£o invis√≠vel onde pensamentos brilhantes, insights profundos e sentimentos intensos permanecem eternamente aprisionados no mundo interior da pessoa. A energia do 333 gera uma frustra√ß√£o crescente que se alimenta de si mesma: quanto mais a pessoa tenta se expressar e falha, mais se fecha e se isola, criando um ciclo vicioso de incompreens√£o e solid√£o. Indiv√≠duos com esta sequ√™ncia frequentemente desenvolvem uma rica vida interior compensat√≥ria, tornando-se observadores agu√ßados da natureza humana, fil√≥sofos silenciosos ou artistas incompreendidos que lutam para traduzir suas vis√µes em formas que outros possam compreender. Esta configura√ß√£o cria uma din√¢mica onde a pessoa se torna progressivamente mais seletiva em suas tentativas de comunica√ß√£o, eventualmente desistindo de se expressar em muitas situa√ß√µes, o que resulta em um isolamento crescente e uma sensa√ß√£o de aliena√ß√£o do mundo. No aspecto f√≠sico, a sequ√™ncia 333 manifesta-se atrav√©s de dist√∫rbios respirat√≥rios cr√¥nicos que simbolizam literalmente a dificuldade de 'dar voz' aos conte√∫dos internos: asma, bronquite, problemas de garganta, e at√© mesmo gagueira ou outros dist√∫rbios da fala. A cura desta configura√ß√£o requer um trabalho paciente e gradual de desbloqueio dos canais expressivos, frequentemente atrav√©s de terapias art√≠sticas, escrita, m√∫sica ou outras formas de express√£o n√£o-verbal que permitam √† pessoa encontrar gradualmente sua voz √∫nica."
      },
      444: {
        titulo: "Sequ√™ncia 444 - Desorganiza√ß√£o Profissional e Rigidez Estrutural",
        texto: "A sequ√™ncia 444 manifesta-se como um padr√£o destrutivo de desorganiza√ß√£o cr√¥nica e rigidez estrutural que torna qualquer atividade profissional ou produtiva extremamente √°rdua e desgastante. Pessoas sob esta influ√™ncia enfrentam uma contradi√ß√£o interna onde simultaneamente necessitam de estrutura e ordem, mas s√£o incapazes de cri√°-las ou mant√™-las de forma eficiente. A energia do 444 transforma tarefas simples em empreendimentos herc√∫leos, criando uma experi√™ncia de trabalho caracterizada pela frieza, indiferen√ßa e uma sensa√ß√£o constante de estar lutando contra for√ßas invis√≠veis. Esta configura√ß√£o frequentemente resulta em m√∫ltiplas mudan√ßas de emprego, baixa remunera√ß√£o e uma reputa√ß√£o profissional inst√°vel. A pessoa pode desenvolver uma avers√£o inconsciente ao trabalho estruturado, alternando entre per√≠odos de hiperatividade desorganizada e completa paralisia produtiva. No aspecto da sa√∫de f√≠sica, a sequ√™ncia 444 est√° associada a problemas articulares, enrijecimento das art√©rias e reumatismo, refletindo a rigidez energ√©tica que caracteriza esta configura√ß√£o. O processo de cura envolve o desenvolvimento de flexibilidade mental, t√©cnicas de organiza√ß√£o gradual e a descoberta de formas de trabalho que honrem tanto a necessidade de estrutura quanto a necessidade de fluidez."
      },
      555: {
        titulo: "Sequ√™ncia 555 - Instabilidade Perp√©tua e Insatisfa√ß√£o Cr√¥nica",
        texto: "A sequ√™ncia 555 cria um padr√£o de vida caracterizado por uma instabilidade perp√©tua e uma insatisfa√ß√£o cr√¥nica que impede a pessoa de encontrar paz ou contentamento duradouros em qualquer situa√ß√£o. Esta configura√ß√£o gera indiv√≠duos que vivem em uma montanha-russa emocional e circunstancial constante, alternando entre picos de euforia e vales de desespero sem nunca encontrar um ponto de equil√≠brio sustent√°vel. A energia do 555 alimenta uma necessidade compulsiva de mudan√ßa que n√£o nasce de uma vis√£o clara ou prop√≥sito definido, mas de uma inquieta√ß√£o interna que nunca se satisfaz. Pessoas com esta sequ√™ncia frequentemente mudam de resid√™ncia, emprego, relacionamentos e at√© mesmo de identidade pessoal em uma busca desesperada por algo que n√£o conseguem definir claramente. Esta instabilidade constante cria um padr√£o de vida onde nada se consolida ou amadurece adequadamente, resultando em uma exist√™ncia fragmentada e superficial. No aspecto da sa√∫de, a sequ√™ncia 555 predisp√µe a doen√ßas que inicialmente parecem menores ou superficiais, mas que podem evoluir para condi√ß√µes destrutivas se n√£o forem adequadamente tratadas. A cura desta configura√ß√£o requer o desenvolvimento de pr√°ticas de ancoragem, medita√ß√£o e a descoberta de valores fundamentais que possam servir como √¢ncora em meio √† tempestade da mudan√ßa constante."
      },
      666: {
        titulo: "Sequ√™ncia 666 - Feridas Afetivas Profundas e Incompreens√£o Emocional",
        texto: "A sequ√™ncia 666 representa uma das configura√ß√µes mais dolorosas no √¢mbito emocional, criando um padr√£o de feridas afetivas profundas e incompreens√£o emocional que permeia todos os relacionamentos significativos da pessoa. Esta energia gera indiv√≠duos que, paradoxalmente, possuem uma capacidade imensa de amar e se conectar emocionalmente, mas que sistematicamente experimentam decep√ß√µes devastadoras em suas rela√ß√µes mais importantes. A energia do 666 cria uma din√¢mica onde a pessoa atrai ou se envolve com indiv√≠duos que, conscientemente ou n√£o, reproduzem padr√µes de abandono, trai√ß√£o ou incompreens√£o emocional. Esta sequ√™ncia frequentemente resulta em uma s√©rie de relacionamentos que come√ßam com grande promessa e intensidade, mas que inevitavelmente terminam em desilus√£o e dor emocional profunda. A pessoa pode desenvolver uma desconfian√ßa crescente em rela√ß√£o ao amor e √† intimidade, alternando entre per√≠odos de isolamento emocional e tentativas desesperadas de conex√£o. No aspecto f√≠sico, a sequ√™ncia 666 est√° intimamente conectada com problemas card√≠acos, tanto funcionais quanto estruturais, refletindo as feridas emocionais que literalmente 'partem o cora√ß√£o'. A transforma√ß√£o desta energia requer um trabalho profundo de cura emocional, desenvolvimento de discernimento nos relacionamentos e a aprendizagem de como amar sem se perder no processo."
      },
      777: {
        titulo: "Sequ√™ncia 777 - Ego√≠smo Espiritual e Isolamento Intelectual",
        texto: "A sequ√™ncia 777 manifesta-se como um padr√£o complexo de ego√≠smo espiritual e isolamento intelectual que, paradoxalmente, surge de uma busca genu√≠na por conhecimento e transcend√™ncia. Esta configura√ß√£o cria indiv√≠duos que desenvolvem uma arrog√¢ncia sutil baseada em suas conquistas intelectuais ou espirituais, tornando-se progressivamente intolerantes com aqueles que consideram menos evolu√≠dos ou conscientes. A energia do 777 alimenta uma din√¢mica onde a pessoa se coloca em um pedestal mental ou espiritual, julgando constantemente os outros e encontrando defeitos em praticamente todas as intera√ß√µes humanas. Esta atitude superior, embora muitas vezes mascarada por uma fachada de sabedoria ou espiritualidade, na verdade nasce de medos profundos de inadequa√ß√£o e vulnerabilidade. A pessoa com esta sequ√™ncia frequentemente experimenta crises de autoconfian√ßa que s√£o imediatamente compensadas por uma postura ainda mais arrogante e distante. O resultado √© uma vida progressivamente mais solit√°ria, onde a pessoa se afasta de relacionamentos genu√≠nos em favor de uma superioridade imagin√°ria. No aspecto da sa√∫de, a sequ√™ncia 777 est√° associada a dist√∫rbios nervosos, ansiedade cr√¥nica e problemas relacionados ao sistema nervoso central. A cura desta configura√ß√£o requer um trabalho humilde de reconex√£o com a humanidade comum, desenvolvimento de compaix√£o genu√≠na e a compreens√£o de que a verdadeira sabedoria sempre inclui humildade."
      },
      888: {
        titulo: "Sequ√™ncia 888 - Descontrole Emocional e Instabilidade Material",
        texto: "A sequ√™ncia 888 representa uma das configura√ß√µes mais intensas e desafiadoras, criando um padr√£o de descontrole emocional extremo combinado com uma instabilidade material que transforma a vida em uma experi√™ncia de montanha-russa constante. Esta energia gera indiv√≠duos que experimentam emo√ß√µes com uma intensidade avassaladora, alternando entre estados de euforia man√≠aca e depress√£o profunda sem conseguir encontrar um ponto de equil√≠brio emocional sustent√°vel. A energia do 888 cria uma din√¢mica onde a pessoa perde completamente o controle sobre suas rea√ß√µes emocionais, tornando-se imprevis√≠vel tanto para si mesma quanto para outros. Esta instabilidade emocional se reflete diretamente na vida material e financeira, criando um padr√£o onde a pessoa experimenta per√≠odos de abund√¢ncia extrema seguidos por fases de escassez igualmente dram√°ticas. A incapacidade de manter estabilidade emocional impede o desenvolvimento de estrat√©gias consistentes para a seguran√ßa material. No aspecto social, a sequ√™ncia 888 torna a pessoa progressivamente mais arredia e isolada, pois outros come√ßam a evitar a imprevisibilidade e intensidade de suas rea√ß√µes. No √¢mbito da sa√∫de, esta configura√ß√£o est√° associada a doen√ßas graves e cr√¥nicas, frequentemente relacionadas ao estresse extremo e ao desgaste do sistema nervoso. A transforma√ß√£o desta energia requer interven√ß√£o terap√™utica profissional, desenvolvimento de t√©cnicas de regula√ß√£o emocional e, possivelmente, suporte m√©dico para estabilizar os aspectos mais extremos desta configura√ß√£o."
      },
      999: {
        titulo: "Sequ√™ncia 999 - Perdas Materiais C√≠clicas e Prova√ß√µes Financeiras",
        texto: "A sequ√™ncia 999 representa um padr√£o k√°rmico profundo de perdas materiais c√≠clicas e prova√ß√µes financeiras que parecem se repetir independentemente dos esfor√ßos conscientes da pessoa para criar estabilidade econ√¥mica. Esta configura√ß√£o cria indiv√≠duos que experimentam uma rela√ß√£o complexa e desafiadora com o mundo material, onde conquistas financeiras s√£o sistematicamente seguidas por perdas devastadoras que podem reduzir a pessoa √† mis√©ria literal. A energia do 999 opera como um teste constante do apego material e da capacidade de encontrar valor e prop√≥sito al√©m das posses materiais. Pessoas com esta sequ√™ncia frequentemente passam por m√∫ltiplos ciclos de constru√ß√£o e destrui√ß√£o financeira, como se estivessem sendo for√ßadas a aprender li√ß√µes profundas sobre o verdadeiro significado da abund√¢ncia e da seguran√ßa. Esta configura√ß√£o pode resultar em per√≠odos prolongados de inatividade for√ßada, onde a pessoa se encontra incapaz de gerar renda atrav√©s dos meios convencionais. O padr√£o do 999 frequentemente for√ßa a pessoa a desenvolver recursos internos e formas alternativas de sobreviv√™ncia que n√£o dependem do sistema econ√¥mico tradicional. A transforma√ß√£o desta energia requer uma reavalia√ß√£o fundamental da rela√ß√£o com o dinheiro e os bens materiais, o desenvolvimento de uma espiritualidade pr√°tica que honre tanto as necessidades materiais quanto os valores transcendentes, e a descoberta de formas de contribui√ß√£o que alinhem prop√≥sito pessoal com sustentabilidade material."
      }
    };

    // Interpreta√ß√µes dos n√∫meros do Mapa Pitag√≥rico
    // Carregar interpreta√ß√µes completas extra√≠das das fontes
    const interpretacoesPitagoricas = interpretacoesPitagoricasUltraExpandidas;

    // Compatibilidades de Sinastria
    const compatibilidadesSinastria = {
      "1-1": {
        tipo: "Pareja Natural",
        titulo: "Dois L√≠deres, Uma Vis√£o Compartilhada",
        texto: "A uni√£o de duas energias 1 cria uma din√¢mica fascinante de lideran√ßa compartilhada, onde ambos os parceiros possuem uma compreens√£o intuitiva da necessidade de independ√™ncia e originalidade do outro. Esta combina√ß√£o pode resultar em uma parceria extraordinariamente produtiva e inovadora, onde cada pessoa inspira a outra a alcan√ßar n√≠veis ainda maiores de excel√™ncia e autenticidade. Ambos compartilham uma paix√£o natural pela iniciativa, pela cria√ß√£o de novos projetos e pela busca constante de crescimento pessoal. A conex√£o entre dois n√∫meros 1 √© caracterizada por um respeito m√∫tuo profundo pelas conquistas individuais e uma capacidade de celebrar os sucessos do parceiro sem sentir amea√ßa √† pr√≥pria identidade. No entanto, esta combina√ß√£o tamb√©m apresenta desafios √∫nicos, particularmente quando ambos os parceiros est√£o simultaneamente em fases de intensa ambi√ß√£o ou quando precisam tomar decis√µes que requerem que um deles assuma um papel mais receptivo. A chave para o sucesso desta uni√£o reside na capacidade de estabelecer territ√≥rios claros de lideran√ßa, alternando entre quem lidera em diferentes aspectos da vida compartilhada, e mantendo sempre o foco na vis√£o comum que transcende as ambi√ß√µes individuais."
      },
      "1-2": {
        tipo: "Pareja Compatible",
        titulo: "Lideran√ßa e Diplomacia em Harmonia Perfeita",
        texto: "A combina√ß√£o entre a energia pioneira do 1 e a natureza diplom√°tica do 2 cria uma das parcerias mais equilibradas e complementares poss√≠veis na numerologia amorosa. O n√∫mero 1 traz a iniciativa, a vis√£o e a coragem necess√°rias para abrir novos caminhos, enquanto o n√∫mero 2 contribui com a sensibilidade, a capacidade de harmoniza√ß√£o e as habilidades interpessoais que transformam ideias em realidades sustent√°veis. Esta uni√£o funciona como uma dan√ßa perfeita entre a√ß√£o e reflex√£o, entre impulso criativo e considera√ß√£o cuidadosa das consequ√™ncias. O parceiro 1 frequentemente se sente inspirado pela capacidade do parceiro 2 de ver nuances e possibilidades que ele poderia ter negligenciado em sua pressa de avan√ßar, enquanto o parceiro 2 se sente energizado e motivado pela confian√ßa e determina√ß√£o do parceiro 1. Juntos, eles criam uma din√¢mica onde grandes vis√µes s√£o temperadas com sabedoria pr√°tica, onde ambi√ß√µes pessoais s√£o equilibradas com considera√ß√£o pelos outros, e onde o sucesso √© medido n√£o apenas por conquistas individuais, mas pela qualidade dos relacionamentos e pelo impacto positivo que conseguem criar juntos. Esta combina√ß√£o tem o potencial de criar tanto uma parceria amorosa profundamente satisfat√≥ria quanto colabora√ß√µes profissionais extraordinariamente bem-sucedidas."
      }
    };

    // Fun√ß√µes de navega√ß√£o das abas agora est√£o inline no HTML para garantir funcionamento
    
    // Fun√ß√£o para inicializar bot√µes de c√°lculo
    function initializeCalculationButtons() {
      console.log('Inicializando bot√µes de c√°lculo...');
      
      // Mapa Pitag√≥rico - busca por texto
      document.querySelectorAll('button').forEach(btn => {
        if (btn.textContent.includes('Calcular Mapa')) {
          btn.onclick = function() {
            calcularMapaCompleto();
          };
          console.log('Bot√£o Mapa Pitag√≥rico configurado:', btn.textContent);
        }
      });
      
      // Pir√¢mide Cabal√≠stica - busca por texto
      document.querySelectorAll('button').forEach(btn => {
        if (btn.textContent.includes('Calcular Pir√¢mide')) {
          btn.onclick = function() {
            calcularPiramideCompleta();
          };
          console.log('Bot√£o Pir√¢mide Cabal√≠stica configurado:', btn.textContent);
        }
      });
      
      // Pin√°culos da Vida - busca por texto
      document.querySelectorAll('button').forEach(btn => {
        if (btn.textContent.includes('Calcular Pin√°culos')) {
          btn.onclick = function() {
            calcularPinaculosCompletos();
          };
          console.log('Bot√£o Pin√°culos da Vida configurado:', btn.textContent);
        }
      });
      
      // Sinastria Numerol√≥gica - busca por texto
      document.querySelectorAll('button').forEach(btn => {
        if (btn.textContent.includes('Calcular Compatibilidade')) {
          btn.onclick = function() {
            calcularSinastria();
          };
          console.log('Bot√£o Sinastria Numerol√≥gica configurado:', btn.textContent);
        }
      });
      
      // Bot√µes de Exemplo - busca por texto
      document.querySelectorAll('button').forEach(btn => {
        if (btn.textContent.includes('Exemplo')) {
          btn.onclick = function() {
            preencherExemplo();
          };
          console.log('Bot√£o Exemplo configurado:', btn.textContent);
        }
      });
      
      // Bot√µes de Limpar
      document.querySelectorAll('button').forEach(btn => {
        if (btn.textContent.includes('Limpar')) {
          btn.onclick = function() {
            limparCampos();
          };
          console.log('Bot√£o Limpar configurado:', btn.textContent);
        }
      });
      
      console.log('Todos os bot√µes de c√°lculo inicializados!');
    }
    
    // Fun√ß√£o para preencher exemplos baseada na se√ß√£o ativa
    function preencherExemplo() {
      const hash = window.location.hash;
      
      if (hash === '#mapa-pitagorico' || !hash) {
        document.getElementById('nomeCompleto').value = 'Maria Silva Santos';
        document.getElementById('dataNascimento').value = '1990-05-15';
      } else if (hash === '#piramide-cabalistica') {
        document.getElementById('nomePiramide').value = 'Jo√£o Silva';
        document.getElementById('idadePiramide').value = '33';
      } else if (hash === '#pinaculos-vida') {
        document.getElementById('nomePinaculos').value = 'Ana Costa';
        document.getElementById('dataPinaculos').value = '1985-12-03';
      } else if (hash === '#sinastria-numerologica') {
        document.getElementById('nomePessoa1').value = 'Carlos Oliveira';
        document.getElementById('dataPessoa1').value = '1988-07-22';
        document.getElementById('nomePessoa2').value = 'Lucia Santos';
        document.getElementById('dataPessoa2').value = '1992-03-18';
      }
    }
    
    // Fun√ß√£o para limpar campos baseada na se√ß√£o ativa
    function limparCampos() {
      const hash = window.location.hash;
      
      if (hash === '#mapa-pitagorico' || !hash) {
        document.getElementById('nomeCompleto').value = '';
        document.getElementById('dataNascimento').value = '';
        document.getElementById('resultados-mapa').innerHTML = '';
      } else if (hash === '#piramide-cabalistica') {
        document.getElementById('nomePiramide').value = '';
        document.getElementById('idadePiramide').value = '';
        document.getElementById('resultados-piramide').innerHTML = '';
      } else if (hash === '#pinaculos-vida') {
        document.getElementById('nomePinaculos').value = '';
        document.getElementById('dataPinaculos').value = '';
        document.getElementById('resultados-pinaculos').innerHTML = '';
      } else if (hash === '#sinastria-numerologica') {
        document.getElementById('nomePessoa1').value = '';
        document.getElementById('dataPessoa1').value = '';
        document.getElementById('nomePessoa2').value = '';
        document.getElementById('dataPessoa2').value = '';
        document.getElementById('resultados-sinastria').innerHTML = '';
      }
    }

    // Inicializa√ß√£o for√ßada das se√ß√µes
    document.addEventListener('DOMContentLoaded', function() {
      // Garantir que apenas a primeira se√ß√£o esteja vis√≠vel
      document.querySelectorAll('.section').forEach((section, index) => {
        if (index === 0) {
          section.style.display = 'block';
        } else {
          section.style.display = 'none';
        }
      });
      
      // Garantir que a primeira aba esteja ativa
      document.querySelectorAll('.nav-tab').forEach((tab, index) => {
        if (index === 0) {
          tab.classList.add('active');
        } else {
          tab.classList.remove('active');
        }
      });
      
      console.log('Sistema de abas inicializado com for√ßa');
      
      // Inicializar bot√µes de c√°lculo
      initializeCalculationButtons();
    });
    
    // Fallback adicional
    window.addEventListener('load', function() {
      setTimeout(function() {
        document.querySelectorAll('.section').forEach((section, index) => {
          section.style.display = index === 0 ? 'block' : 'none';
        });
      }, 500);
    });
    


    // Fun√ß√£o para criar bot√£o clic√°vel dos arcanos
    function criarBotaoLerMais(numeroArcano) {
      const nomeArquivo = {
        0: 'o_louco.html', 1: 'o_mago.html', 2: 'a_sacerdotisa.html', 3: 'a_imperatriz.html',
        4: 'o_imperador.html', 5: 'o_hierofante.html', 6: 'os_enamorados.html', 7: 'o_carro.html',
        8: 'a_forca.html', 9: 'o_ermitao.html', 10: 'a_roda_da_fortuna.html', 11: 'a_justica.html',
        12: 'o_enforcado.html', 13: 'a_morte.html', 14: 'a_temperanca.html', 15: 'o_diabo.html',
        16: 'a_torre.html', 17: 'a_estrela.html', 18: 'a_lua.html', 19: 'o_sol.html',
        20: 'o_julgamento.html', 21: 'o_mundo.html', 22: 'o_louco.html'
      };
      
      const arquivo = nomeArquivo[numeroArcano];
      if (arquivo) {
        return `<button class="btn" onclick="window.open('arcanos/${arquivo}', '_blank')" style="margin-top: 1rem; background: var(--gold); color: var(--ink);">
                  üìñ Ler Mais sobre este Arcano
                </button>`;
      }
      return '';
    }

    // Fun√ß√µes utilit√°rias
    function normalizarTexto(texto) {
      return texto.toUpperCase()
        .normalize('NFD')
        .replace(/[\u0300-\u036f]/g, '')
        .replace(/[^A-Z]/g, '');
    }

    function reduzirNumero(numero, { preservaMestres = true, preservaKarmicos = false } = {}) {
      const mestres = [11, 22, 33];
      const karmicos = [13, 14, 16, 19];
      
      while (numero > 9) {
        if (preservaMestres && mestres.includes(numero)) return numero;
        if (preservaKarmicos && karmicos.includes(numero)) return numero;
        numero = numero.toString().split('').reduce((s, d) => s + parseInt(d), 0);
      }
      
      return numero;
    }

    function calcularNumeroNome(nome, tabela, filtro = null) {
      const nomeNormalizado = normalizarTexto(nome);
      let soma = 0;
      
      for (let letra of nomeNormalizado) {
        if (filtro && !filtro.includes(letra)) continue;
        if (filtro === null || filtro.includes(letra)) {
          soma += tabela[letra] || 0;
        }
      }
      
      return soma;
    }

    function reduzirParaArcano(numero) {
      while (numero > 22) {
        numero = numero.toString().split('').reduce((sum, digit) => sum + parseInt(digit), 0);
      }
      return numero === 0 ? 22 : numero;
    }

    // Fun√ß√£o para construir a pir√¢mide cabal√≠stica
    function construirPiramide(nome) {
      const nomeNormalizado = normalizarTexto(nome);
      const piramide = [];
      let linha = nomeNormalizado.split('').map(letra => tabelaCabalistica[letra] || 0);
      piramide.push([...linha]);
      
      while (linha.length > 1) {
        const novaLinha = [];
        for (let i = 0; i < linha.length - 1; i++) {
          let soma = linha[i] + linha[i + 1];
          while (soma > 22) {
            soma = soma.toString().split('').reduce((sum, digit) => sum + parseInt(digit), 0);
          }
          novaLinha.push(soma);
        }
        linha = novaLinha;
        piramide.push([...linha]);
      }
      
      return piramide;
    }

    // Fun√ß√£o para detectar sequ√™ncias negativas
    function detectarSequenciasNegativas(piramide) {
      const sequenciasEncontradas = [];
      
      for (let i = 0; i < piramide.length; i++) {
        const linha = piramide[i];
        for (let j = 0; j < linha.length - 2; j++) {
          if (linha[j] === linha[j + 1] && linha[j + 1] === linha[j + 2]) {
            const sequencia = linha[j].toString().repeat(3);
            if (!sequenciasEncontradas.some(s => s.sequencia === sequencia)) {
              sequenciasEncontradas.push({
                sequencia: sequencia,
                linha: i,
                posicao: j,
                numero: linha[j]
              });
            }
          }
        }
      }
      
      return sequenciasEncontradas;
    }

    // Fun√ß√£o principal para calcular o mapa pitag√≥rico completo
    function calcularMapaCompleto() {
      const nome = document.getElementById('nomeCompleto').value.trim();
      const dataNascimento = document.getElementById('dataNascimento').value;
      
      if (!nome || !dataNascimento) {
        alert('Por favor, preencha todos os campos.');
        return;
      }
      
      const perfil = calcularPerfilNumerologico(nome, dataNascimento);
      renderResultadosMapa(perfil);
    }

    function calcularPerfilNumerologico(nome, dataNascimento) {
      const vogais = ['A', 'E', 'I', 'O', 'U'];
      
      const somaVogais = calcularNumeroNome(nome, tabelaPitagorica, vogais);
      const motivacao = reduzirNumero(somaVogais, { preservaMestres: true });
      
      const somaConsoantes = calcularNumeroNome(nome, tabelaPitagorica, 
        Object.keys(tabelaPitagorica).filter(letra => !vogais.includes(letra)));
      const impressao = reduzirNumero(somaConsoantes, { preservaMestres: true });
      
      const somaTotal = calcularNumeroNome(nome, tabelaPitagorica);
      const expressao = reduzirNumero(somaTotal, { preservaMestres: true });
      
      const dataNumeros = dataNascimento.replace(/-/g, '').split('').map(Number);
      const somaData = dataNumeros.reduce((sum, num) => sum + num, 0);
      const destino = reduzirNumero(somaData, { preservaMestres: true });
      
      // N√∫meros repetidos e k√°rmicos
      const numerosRepetidos = analisarNumerosRepetidos(nome);
      const licoesKarmicas = identificarLicoesKarmicas(nome, dataNascimento);
      
      return {
        motivacao, impressao, expressao, destino,
        numerosRepetidos, licoesKarmicas
      };
    }

    function analisarNumerosRepetidos(nome) {
      const nomeNormalizado = normalizarTexto(nome);
      const contagem = {};
      
      for (let letra of nomeNormalizado) {
        const numero = tabelaPitagorica[letra];
        contagem[numero] = (contagem[numero] || 0) + 1;
      }
      
      return contagem;
    }

    function identificarLicoesKarmicas(nome, dataNascimento) {
      const nomeNormalizado = normalizarTexto(nome);
      const numerosPresentes = new Set();
      
      for (let letra of nomeNormalizado) {
        numerosPresentes.add(tabelaPitagorica[letra]);
      }
      
      const licoesKarmicas = [];
      for (let i = 1; i <= 9; i++) {
        if (!numerosPresentes.has(i)) {
          licoesKarmicas.push(i);
        }
      }
      
      return licoesKarmicas;
    }

    function renderResultadosMapa(perfil) {
      const resultadosDiv = document.getElementById('resultados-mapa');
      
      let html = `
        <div class="card">
          <h3 class="text-center">Seu Mapa Numerol√≥gico Pitag√≥rico Completo</h3>
          <div class="results">
      `;
      
      // Motiva√ß√£o
      if (interpretacoesPitagoricas.motivacao[perfil.motivacao]) {
        html += `
          <div class="interpretation">
            <div class="number-display">${perfil.motivacao}</div>
            <h4>${interpretacoesPitagoricas.motivacao[perfil.motivacao].titulo}</h4>
            <p>${interpretacoesPitagoricas.motivacao[perfil.motivacao].texto}</p>
          </div>
        `;
      }
      
      // Impress√£o
      if (interpretacoesPitagoricas.impressao[perfil.impressao]) {
        html += `
          <div class="interpretation">
            <div class="number-display">${perfil.impressao}</div>
            <h4>${interpretacoesPitagoricas.impressao[perfil.impressao].titulo}</h4>
            <p>${interpretacoesPitagoricas.impressao[perfil.impressao].texto}</p>
          </div>
        `;
      }
      
      // Express√£o
      if (interpretacoesPitagoricas.expressao[perfil.expressao]) {
        html += `
          <div class="interpretation">
            <div class="number-display">${perfil.expressao}</div>
            <h4>${interpretacoesPitagoricas.expressao[perfil.expressao].titulo}</h4>
            <p>${interpretacoesPitagoricas.expressao[perfil.expressao].texto}</p>
          </div>
        `;
      }
      
      // Destino
      if (interpretacoesPitagoricas.destino[perfil.destino]) {
        html += `
          <div class="interpretation">
            <div class="number-display">${perfil.destino}</div>
            <h4>${interpretacoesPitagoricas.destino[perfil.destino].titulo}</h4>
            <p>${interpretacoesPitagoricas.destino[perfil.destino].texto}</p>
          </div>
        `;
      }
      
      // N√∫meros repetidos
      html += `
        <div class="interpretation">
          <h4>An√°lise dos N√∫meros Repetidos</h4>
          <p>Os n√∫meros que aparecem com maior frequ√™ncia em seu nome revelam talentos naturais e √°reas de foco em sua vida:</p>
      `;
      
      for (let [numero, quantidade] of Object.entries(perfil.numerosRepetidos)) {
        if (quantidade > 1) {
          html += `<p><strong>N√∫mero ${numero}</strong>: Aparece ${quantidade} vezes - Indica forte influ√™ncia desta energia em sua personalidade.</p>`;
        }
      }
      
      html += `</div>`;
      
      // Li√ß√µes K√°rmicas
      if (perfil.licoesKarmicas.length > 0) {
        html += `
          <div class="interpretation">
            <h4>Li√ß√µes K√°rmicas a Desenvolver</h4>
            <p>Os n√∫meros ausentes em seu nome indicam qualidades que voc√™ veio desenvolver nesta vida:</p>
        `;
        
        for (let numero of perfil.licoesKarmicas) {
          html += `<p><strong>N√∫mero ${numero}</strong>: Energia a ser desenvolvida e integrada em sua personalidade.</p>`;
        }
        
        html += `</div>`;
      }
      
      html += `
          </div>
        </div>
      `;
      
      resultadosDiv.innerHTML = html;
      resultadosDiv.classList.remove('hidden');
    }

    // Fun√ß√£o para calcular a pir√¢mide completa
    function calcularPiramideCompleta() {
      const nome = document.getElementById('nomePiramide').value.trim();
      const idade = parseInt(document.getElementById('idadePiramide').value);
      
      if (!nome || isNaN(idade)) {
        alert('Por favor, preencha todos os campos.');
        return;
      }
      
      const piramide = construirPiramide(nome);
      const achadosSequenciasNeg = detectarSequenciasNegativas(piramide);
      const arcanoAtual = calcularArcanoAtual(piramide, idade);
      
      renderResultadosPiramideCompleta(piramide, achadosSequenciasNeg, arcanoAtual, idade);
    }

    function calcularArcanoAtual(piramide, idade) {
      const celulas = [];
      for (let i = 0; i < piramide.length; i++) {
        for (let j = 0; j < piramide[i].length; j++) {
          celulas.push({ num: piramide[i][j], i, j });
        }
      }
      const anosPorCelula = 90 / celulas.length; // ciclo total de 90 anos
      const idx = Math.min(Math.floor(idade / anosPorCelula), celulas.length - 1);
      const c = celulas[idx];
      return { numero: c.num, linha: c.i, coluna: c.j, anosPorCelula: anosPorCelula.toFixed(2) };
    }

    function getImagemArcano(numero) {
      const imagensArcanos = {
        0: 'assets/img/cartas/0_the_fool.jpg',
        1: 'assets/img/cartas/1_the_magician.jpg',
        2: 'assets/img/cartas/2_the_high_priestess.jpg',
        3: 'assets/img/cartas/3_the_empress.jpg',
        4: 'assets/img/cartas/4_the_emperor.jpg',
        5: 'assets/img/cartas/5_the_hierophant.jpg',
        6: 'assets/img/cartas/6_the_lovers.jpg',
        7: 'assets/img/cartas/7_the_chariot.jpg',
        8: 'assets/img/cartas/8_strength.jpg',
        9: 'assets/img/cartas/9_the_hermit.jpg',
        10: 'assets/img/cartas/10_wheel_of_fortune.jpg',
        11: 'assets/img/cartas/11_justice.jpg',
        12: 'assets/img/cartas/12_the_hanged_man.jpg',
        13: 'assets/img/cartas/13_death.jpg',
        14: 'assets/img/cartas/14_temperance.jpg',
        15: 'assets/img/cartas/15_the_devil.jpg',
        16: 'assets/img/cartas/16_the_tower.jpg',
        17: 'assets/img/cartas/17_the_star.jpg',
        18: 'assets/img/cartas/18_the_moon.jpg',
        19: 'assets/img/cartas/19_the_sun.jpg',
        20: 'assets/img/cartas/20_judgement.jpg',
        21: 'assets/img/cartas/21_the_world.jpg',
        22: 'assets/img/cartas/0_the_fool.jpg' // O Louco pode ser 0 ou 22
      };
      return imagensArcanos[numero] || 'assets/img/cartas/arcanos_completo.png';
    }

    // Usar a fun√ß√£o corrigida do arquivo piramide_cabalistica_corrigida.js
    function renderResultadosPiramideCompleta(piramide, sequenciasNegativasEncontradas, arcanoAtual, idade) {
      // Chamar a fun√ß√£o corrigida que inclui as imagens das cartas
      if (typeof window.renderResultadosPiramideCompleta_Corrigida === 'function') {
        window.renderResultadosPiramideCompleta_Corrigida(piramide, arcanoAtual, sequenciasNegativasEncontradas, [], 'Maria Silva Santos', idade);
      } else {
        // Fallback para a vers√£o original se a corrigida n√£o estiver dispon√≠vel
        const resultadosDiv = document.getElementById('resultados-piramide');
        
        // Calcular sequ√™ncias repetidas expandidas
        const sequenciasExpandidas = calcularIdadesSequencias(piramide);
        
        // Detectar desafios c√°rmicos
        const desafiosCarmicos = detectarDesafiosCarmicos(piramide);
        
        let html = `
          <div class="card">
            <h3 class="text-center">Sua Pir√¢mide Cabal√≠stica Completa</h3>
            
            <div style="text-align: center; margin: 2rem 0;">
              <img src="${getCaminhoImagemArcano(arcanoAtual.numero)}" alt="${nomesArcanos[arcanoAtual.numero]}" 
                   style="width: 150px; height: auto; border-radius: 10px; box-shadow: 0 4px 8px rgba(0,0,0,0.3); margin-bottom: 1rem;" 
                   onerror="this.style.display='none'; this.nextElementSibling.style.display='block';">
              <div class="number-display" style="display: none;">${arcanoAtual.numero}</div>
              <h4>${nomesArcanos[arcanoAtual.numero] || 'Arcano ' + arcanoAtual.numero}</h4>
              <p style="color: var(--sage);">Arcano Regente aos ${idade} anos</p>
              ${criarBotaoLerMais(arcanoAtual.numero)}
            </div>
            
            <!-- Mapeamento de Idades dos Arcanos -->
            <div class="card" style="margin: 2rem 0; background: rgba(178,209,177,0.1);">
              <h3 style="color: var(--sage); text-align: center;">üéØ Idades dos Arcanos no Ciclo de 90 Anos</h3>
              <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(180px, 1fr)); gap: 0.8rem; margin: 1rem 0;">
        `;
        
        // Mapeamento de imagens dos arcanos
        const imagensArcanos = {
          1: 'assets/img/cartas/01-I-TheMagician.jpg',
          2: 'assets/img/cartas/02-II-TheHighPriestess.jpg', 
          3: 'assets/img/cartas/03-III-TheEmpress.jpg',
          4: 'assets/img/cartas/04-IV-TheEmperor.jpg',
          5: 'assets/img/cartas/05-V-TheHierophant.jpg',
          6: 'assets/img/cartas/06-VI-TheLovers.jpg',
          7: 'assets/img/cartas/07-VII-TheChariot.jpg',
          8: 'assets/img/cartas/08-VIII-Strength.jpg',
          9: 'assets/img/cartas/09-IX-TheHermit.jpg',
          10: 'assets/img/cartas/10-X-WheelofFortune.jpg',
          11: 'assets/img/cartas/11-XI-Justice.jpg',
          12: 'assets/img/cartas/12-XII-TheHangedMan.jpg',
          13: 'assets/img/cartas/13-XIII-Death.jpg',
          14: 'assets/img/cartas/14-XIV-Temperance.jpg',
          15: 'assets/img/cartas/15-XV-TheDevil.jpg',
          16: 'assets/img/cartas/16-XVI-TheTower.jpg',
          17: 'assets/img/cartas/17-XVII-TheStar.jpg',
          18: 'assets/img/cartas/18-XVIII-TheMoon.jpg',
          19: 'assets/img/cartas/19-XIX-TheSun.jpg',
          20: 'assets/img/cartas/20-XX-Judgement.jpg',
          21: 'assets/img/cartas/21-XXI-TheWorld.jpg',
          0: 'assets/img/cartas/00-0-TheFool.jpg',
          22: 'assets/img/cartas/00-0-TheFool.jpg'
        };
        
        // Adicionar mapeamento de idades dos arcanos com miniaturas das cartas
        Object.values(idadesArcanos).forEach(info => {
          const isAtual = info.arcano === arcanoAtual.numero;
          const imagemCarta = imagensArcanos[info.arcano] || 'assets/img/cartas/00-0-Back.jpg';
          html += `
            <div style="background: ${isAtual ? 'rgba(240,170,83,0.2)' : 'rgba(11,24,54,0.3)'}; 
                        border: 2px solid ${isAtual ? 'var(--gold)' : 'var(--sage)'}; 
                        border-radius: 12px; padding: 1rem; text-align: center; min-width: 160px; max-width: 220px;">
              <h5 style="margin: 0 0 1rem 0; color: ${isAtual ? 'var(--gold)' : 'var(--gold)'}; font-size: 1.1rem;">Arcano ${info.arcano}</h5>
              <h6 style="margin: 0 0 1rem 0; color: ${isAtual ? 'var(--gold)' : 'var(--gold)'}; font-size: 1rem;">${info.nome}</h6>
              
              <div style="margin-bottom: 0.8rem; cursor: pointer; display: flex; justify-content: center; align-items: center; height: 120px;" onclick="window.open('arcanos/${{
              0: 'o_louco.html', 1: 'o_mago.html', 2: 'a_sacerdotisa.html', 3: 'a_imperatriz.html',
              4: 'o_imperador.html', 5: 'o_hierofante.html', 6: 'os_enamorados.html', 7: 'o_carro.html',
              8: 'a_forca.html', 9: 'o_ermitao.html', 10: 'a_roda_da_fortuna.html', 11: 'a_justica.html',
              12: 'o_enforcado.html', 13: 'a_morte.html', 14: 'a_temperanca.html', 15: 'o_diabo.html',
              16: 'a_torre.html', 17: 'a_estrela.html', 18: 'a_lua.html', 19: 'o_sol.html',
              20: 'o_julgamento.html', 21: 'o_mundo.html', 22: 'o_louco.html'
            }}[${info.arcano}]', '_blank')" title="Clique para ver a carta">
                <img src="${imagemCarta}" alt="${info.nome}" style="width: 70px; height: 105px; object-fit: cover; border-radius: 8px; border: 2px solid var(--gold); box-shadow: 0 4px 10px rgba(0,0,0,0.3); transition: all 0.3s ease; cursor: pointer; flex-shrink: 0;" onmouseover="this.style.transform='scale(1.03)'; this.style.boxShadow='0 6px 15px rgba(212,175,55,0.5)'" onmouseout="this.style.transform='scale(1)'; this.style.boxShadow='0 4px 10px rgba(0,0,0,0.3)'">
              </div>
              
              <p style="color: var(--sage); margin-bottom: 1rem; font-size: 0.9rem;">
                Idades: ${info.idades.join(', ')}
              </p>
              
              <a href="arcanos/${{  
                0: 'o_louco.html', 1: 'o_mago.html', 2: 'a_sacerdotisa.html', 3: 'a_imperatriz.html',
                4: 'o_imperador.html', 5: 'o_hierofante.html', 6: 'os_enamorados.html', 7: 'o_carro.html',
                8: 'a_forca.html', 9: 'o_ermitao.html', 10: 'a_roda_da_fortuna.html', 11: 'a_justica.html',
                12: 'o_enforcado.html', 13: 'a_morte.html', 14: 'a_temperanca.html', 15: 'o_diabo.html',
                16: 'a_torre.html', 17: 'a_estrela.html', 18: 'a_lua.html', 19: 'o_sol.html',
                20: 'o_julgamento.html', 21: 'o_mundo.html', 22: 'o_louco.html'
              }}[${info.arcano}]" target="_blank" style="background: linear-gradient(135deg, var(--gold), #d4a574); color: #000; padding: 0.5rem 1rem; border-radius: 8px; text-decoration: none; font-weight: bold; font-size: 0.9rem; display: inline-block; transition: all 0.3s ease;">
                üìñ Ler Mais
              </a>
            </div>
        `;
      });
      
      html += `
            </div>
          </div>
      `;
      
      // Sequ√™ncias Repetidas Expandidas
      if (sequenciasExpandidas.length > 0) {
        html += `
          <div class="card" style="margin: 2rem 0; background: rgba(240,170,83,0.1);">
            <h3 style="color: var(--wine); text-align: center;">üî¢ Sequ√™ncias Num√©ricas Repetidas - An√°lise Profunda</h3>
        `;
        
        sequenciasExpandidas.forEach(seq => {
          html += `
            <div style="background: rgba(62,10,41,0.1); border: 2px solid var(--wine); border-radius: 10px; padding: 2rem; margin: 1.5rem 0;">
              <h4 style="color: var(--gold); margin-bottom: 1rem;">${seq.info.titulo}</h4>
              <div style="background: rgba(11,24,54,0.3); padding: 1rem; border-radius: 8px; margin-bottom: 1rem;">
                <p style="color: var(--sage); font-weight: 500; margin: 0;">üéØ Per√≠odo de Influ√™ncia: ${seq.idadeInicio} - ${seq.idadeFim} anos</p>
              </div>
              
              <div style="margin-bottom: 1.5rem;">
                <h5 style="color: var(--sage); margin-bottom: 0.5rem;">üìñ Significado:</h5>
                <p style="line-height: 1.6; text-align: justify;">${seq.info.significado}</p>
              </div>
              
              <div style="margin-bottom: 1.5rem;">
                <h5 style="color: var(--sage); margin-bottom: 0.5rem;">üéì Aprendizado:</h5>
                <p style="line-height: 1.6; text-align: justify;">${seq.info.aprendizado}</p>
              </div>
              
              <div style="margin-bottom: 1.5rem;">
                <h5 style="color: var(--wine); margin-bottom: 0.5rem;">‚ö†Ô∏è O que Evitar:</h5>
                <p style="line-height: 1.6; text-align: justify;">${seq.info.evitar}</p>
              </div>
              
              <div>
                <h5 style="color: var(--gold); margin-bottom: 0.5rem;">‚ú® Transforma√ß√£o:</h5>
                <p style="line-height: 1.6; text-align: justify;">${seq.info.transformacao}</p>
              </div>
            </div>
          `;
        });
        
        html += `</div>`;
      }
      
      // Sequ√™ncias Negativas
      if (sequenciasNegativasEncontradas.length > 0) {
        html += `<h3 style="color: var(--wine); text-align: center;">‚ö†Ô∏è Sequ√™ncias Negativas Detectadas na Pir√¢mide</h3>`;
        
        for (let seq of sequenciasNegativasEncontradas) {
          const info = sequenciasNegativasExpandidas[seq.sequencia];
          if (info) {
            html += `
              <div style="background: rgba(62,10,41,0.2); border: 2px solid var(--wine); border-radius: 15px; padding: 2.5rem; margin: 2rem 0; box-shadow: 0 4px 12px rgba(0,0,0,0.3);">
                <h4 style="color: var(--gold); margin-bottom: 1.5rem; font-size: 1.3rem;">${info.titulo}</h4>
                
                <div style="background: rgba(11,24,54,0.4); padding: 1.5rem; border-radius: 10px; margin-bottom: 2rem;">
                  <h5 style="color: var(--sage); margin-bottom: 1rem; font-size: 1.1rem;">üìñ Significado Profundo:</h5>
                  <p style="line-height: 1.7; text-align: justify; margin-bottom: 1.5rem;">${info.significado}</p>
                </div>
                
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 1.5rem; margin-bottom: 2rem;">
                  <div style="background: rgba(178,209,177,0.1); padding: 1.5rem; border-radius: 10px; border-left: 4px solid var(--sage);">
                    <h6 style="color: var(--sage); margin-bottom: 1rem;">‚ú® Pontos Positivos:</h6>
                    <ul style="margin: 0; padding-left: 1.2rem;">
                      ${info.pontosPositivos.map(ponto => `<li style="margin-bottom: 0.5rem; line-height: 1.5;">${ponto}</li>`).join('')}
                    </ul>
                  </div>
                  
                  <div style="background: rgba(240,170,83,0.1); padding: 1.5rem; border-radius: 10px; border-left: 4px solid var(--gold);">
                    <h6 style="color: var(--gold); margin-bottom: 1rem;">‚ö†Ô∏è Pontos Negativos:</h6>
                    <ul style="margin: 0; padding-left: 1.2rem;">
                      ${info.pontosNegativos.map(ponto => `<li style="margin-bottom: 0.5rem; line-height: 1.5;">${ponto}</li>`).join('')}
                    </ul>
                  </div>
                </div>
                
                <div style="background: rgba(62,10,41,0.1); padding: 1.5rem; border-radius: 10px; margin-bottom: 1.5rem;">
                  <h6 style="color: var(--wine); margin-bottom: 1rem;">üö´ O que Evitar:</h6>
                  <ul style="margin: 0; padding-left: 1.2rem;">
                    ${info.oQueEvitar.map(item => `<li style="margin-bottom: 0.5rem; line-height: 1.5;">${item}</li>`).join('')}
                  </ul>
                </div>
                
                <div style="background: rgba(11,24,54,0.2); padding: 1.5rem; border-radius: 10px; margin-bottom: 1.5rem;">
                  <h6 style="color: var(--parch); margin-bottom: 1rem;">üéØ O que Trabalhar:</h6>
                  <ul style="margin: 0; padding-left: 1.2rem;">
                    ${info.oQueTrabalhar.map(item => `<li style="margin-bottom: 0.5rem; line-height: 1.5;">${item}</li>`).join('')}
                  </ul>
                </div>
                
                <div style="background: rgba(178,209,177,0.1); padding: 1.5rem; border-radius: 10px; margin-bottom: 1.5rem;">
                  <h6 style="color: var(--sage); margin-bottom: 1rem;">üîß Como Superar:</h6>
                  <ul style="margin: 0; padding-left: 1.2rem;">
                    ${info.comoSuperar.map(item => `<li style="margin-bottom: 0.5rem; line-height: 1.5;">${item}</li>`).join('')}
                  </ul>
                </div>
                
                <div style="background: rgba(240,170,83,0.1); padding: 1.5rem; border-radius: 10px; margin-bottom: 1.5rem;">
                  <h6 style="color: var(--gold); margin-bottom: 1rem;">üëÅÔ∏è O que Enxergar:</h6>
                  <ul style="margin: 0; padding-left: 1.2rem;">
                    ${info.oQueEnxergar.map(item => `<li style="margin-bottom: 0.5rem; line-height: 1.5;">${item}</li>`).join('')}
                  </ul>
                </div>
                
                <div style="background: rgba(62,10,41,0.1); padding: 1.5rem; border-radius: 10px; margin-bottom: 2rem;">
                  <h6 style="color: var(--wine); margin-bottom: 1rem;">üìö O que Aprender:</h6>
                  <ul style="margin: 0; padding-left: 1.2rem;">
                    ${info.oQueAprender.map(item => `<li style="margin-bottom: 0.5rem; line-height: 1.5;">${item}</li>`).join('')}
                  </ul>
                </div>
                
                <div style="background: linear-gradient(135deg, rgba(178,209,177,0.2), rgba(240,170,83,0.2)); padding: 2rem; border-radius: 15px; border: 2px solid var(--gold);">
                  <h6 style="color: var(--gold); margin-bottom: 1rem; font-size: 1.1rem;">üåü Transforma√ß√£o:</h6>
                  <p style="line-height: 1.7; text-align: justify; margin: 0; font-style: italic;">${info.transformacao}</p>
                </div>
              </div>
            `;
          }
        }
      } else {
        html += `
          <div style="background: rgba(178,209,177,0.2); border: 2px solid var(--sage); border-radius: 10px; padding: 1.5rem; margin: 1rem 0; text-align: center;">
            <h4 style="color: var(--sage);">‚ú® Pir√¢mide Harmoniosa</h4>
            <p>Seu nome n√£o apresenta sequ√™ncias negativas, indicando um fluxo energ√©tico equilibrado.</p>
          </div>
        `;
      }
      
      // Pir√¢mide Visual
      html += `
          <h3 class="text-center" style="margin-top: 2rem;">Pir√¢mide Cabal√≠stica - Ciclo de 90 Anos</h3>
          <div class="pyramid-container">
      `;
      
      for (let i = 0; i < piramide.length; i++) {
        html += '<div class="pyramid-row">';
        for (let j = 0; j < piramide[i].length; j++) {
          const isHighlight = (i === arcanoAtual.linha && j === arcanoAtual.coluna);
          let classe = 'pyramid-cell';
          
          if (isHighlight) {
            classe += ' highlight';
          }
          
          // Verificar se faz parte de sequ√™ncia negativa
          for (let seq of sequenciasNegativasEncontradas) {
            if (seq.linha === i && j >= seq.posicao && j < seq.posicao + 3) {
              classe += ' negative-sequence';
            }
          }
          
          html += `<div class="${classe}">${piramide[i][j]}</div>`;
        }
        html += '</div>';
      }
      
      html += `
          </div>
        </div>
      `;
      
      // Desafios C√°rmicos
      if (desafiosCarmicos.length > 0) {
        html += `
          <div class="card" style="margin: 2rem 0; background: rgba(62,10,41,0.1); border: 2px solid var(--wine);">
            <h3 style="color: var(--wine); text-align: center; margin-bottom: 2rem;">üî• Desafios C√°rmicos Identificados</h3>
            <p style="text-align: center; color: var(--sage); margin-bottom: 2rem; font-style: italic;">
              Li√ß√µes de vida que sua alma escolheu desenvolver nesta encarna√ß√£o
            </p>
        `;
        
        for (let desafio of desafiosCarmicos) {
          const info = desafio.desafio;
          html += `
            <div style="background: rgba(11,24,54,0.3); border-radius: 15px; padding: 2.5rem; margin: 2rem 0; border: 1px solid var(--sage);">
              <h4 style="color: var(--gold); margin-bottom: 1.5rem; font-size: 1.3rem;">${info.titulo}</h4>
              
              <div style="background: rgba(178,209,177,0.1); padding: 1.5rem; border-radius: 10px; margin-bottom: 2rem;">
                <h5 style="color: var(--sage); margin-bottom: 1rem;">üå± Significado do Desafio:</h5>
                <p style="line-height: 1.7; text-align: justify;">${info.significado}</p>
              </div>
              
              <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 1.5rem; margin-bottom: 2rem;">
                <div style="background: rgba(240,170,83,0.1); padding: 1.5rem; border-radius: 10px;">
                  <h5 style="color: var(--gold); margin-bottom: 1rem;">‚ú® Li√ß√µes Principais:</h5>
                  <ul style="margin: 0; padding-left: 1.2rem;">
                    ${info.licoesPrincipais.map(licao => `<li style="margin-bottom: 0.8rem; line-height: 1.6;">${licao}</li>`).join('')}
                  </ul>
                </div>
                
                <div style="background: rgba(62,10,41,0.1); padding: 1.5rem; border-radius: 10px;">
                  <h5 style="color: var(--wine); margin-bottom: 1rem;">‚ö†Ô∏è Padr√µes Disfuncionais:</h5>
                  <ul style="margin: 0; padding-left: 1.2rem;">
                    ${info.padroesDisfuncionais.map(padrao => `<li style="margin-bottom: 0.8rem; line-height: 1.6;">${padrao}</li>`).join('')}
                  </ul>
                </div>
              </div>
              
              <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 1.5rem; margin-bottom: 2rem;">
                <div style="background: rgba(11,24,54,0.2); padding: 1.5rem; border-radius: 10px;">
                  <h5 style="color: var(--parch); margin-bottom: 1rem;">üîç Sinais de Manifesta√ß√£o:</h5>
                  <ul style="margin: 0; padding-left: 1.2rem;">
                    ${info.sinaisManifestacao.map(sinal => `<li style="margin-bottom: 0.8rem; line-height: 1.6;">${sinal}</li>`).join('')}
                  </ul>
                </div>
                
                <div style="background: rgba(178,209,177,0.1); padding: 1.5rem; border-radius: 10px;">
                  <h5 style="color: var(--sage); margin-bottom: 1rem;">üõ†Ô∏è Estrat√©gias de Transforma√ß√£o:</h5>
                  <ul style="margin: 0; padding-left: 1.2rem;">
                    ${info.estrategiasTransformacao.map(estrategia => `<li style="margin-bottom: 0.8rem; line-height: 1.6;">${estrategia}</li>`).join('')}
                  </ul>
                </div>
              </div>
              
              <div style="background: rgba(240,170,83,0.1); padding: 1.5rem; border-radius: 10px; margin-bottom: 2rem;">
                <h5 style="color: var(--gold); margin-bottom: 1rem;">üåÖ Oportunidades de Crescimento:</h5>
                <ul style="margin: 0; padding-left: 1.2rem;">
                  ${info.oportunidadesCrescimento.map(oportunidade => `<li style="margin-bottom: 0.8rem; line-height: 1.6;">${oportunidade}</li>`).join('')}
                </ul>
              </div>
              
              <div style="background: linear-gradient(135deg, rgba(240,170,83,0.2), rgba(178,209,177,0.2)); padding: 2rem; border-radius: 10px; text-align: center;">
                <h5 style="color: var(--gold); margin-bottom: 1rem;">üéÜ Transforma√ß√£o Esperada:</h5>
                <p style="line-height: 1.7; font-style: italic; font-size: 1.05rem;">${info.transformacaoEsperada}</p>
              </div>
            </div>
          `;
        }
        
        html += `</div>`;
      }
      
      resultadosDiv.innerHTML = html;
      resultadosDiv.classList.remove('hidden');
    }

    // Fun√ß√£o para calcular sinastria
    function calcularSinastria() {
      const nome1 = document.getElementById('nomePessoa1').value.trim();
      const data1 = document.getElementById('dataPessoa1').value;
      const nome2 = document.getElementById('nomePessoa2').value.trim();
      const data2 = document.getElementById('dataPessoa2').value;
      
      if (!nome1 || !data1 || !nome2 || !data2) {
        alert('Por favor, preencha todos os campos.');
        return;
      }
      
      // Calcular n√∫meros b√°sicos de cada pessoa
      const perfil1 = calcularPerfilBasico(nome1, data1);
      const perfil2 = calcularPerfilBasico(nome2, data2);
      
      // Calcular compatibilidade
      const compatibilidade = analisarCompatibilidade(perfil1, perfil2);
      
      renderResultadosSinastria(perfil1, perfil2, compatibilidade, nome1, nome2);
    }

    function calcularPerfilBasico(nome, data) {
      const somaVogais = calcularNumeroNome(nome, tabelaPitagorica, vogais);
      const motivacao = reduzirNumero(somaVogais);
      
      const somaConsoantes = calcularNumeroNome(nome, tabelaPitagorica, 
        Object.keys(tabelaPitagorica).filter(letra => !vogais.includes(letra)));
      const impressao = reduzirNumero(somaConsoantes);
      
      const dataNumeros = data.replace(/-/g, '').split('').map(Number);
      const somaData = dataNumeros.reduce((sum, num) => sum + num, 0);
      const destino = reduzirNumero(somaData);
      
      const dia = parseInt(data.split('-')[2]);
      const diaReduzido = reduzirNumero(dia);
      
      return { motivacao, impressao, destino, diaReduzido };
    }

    function analisarCompatibilidade(perfil1, perfil2) {
      const numeroPareja = reduzirNumero(perfil1.diaReduzido + perfil2.diaReduzido);
      const chaveCompatibilidade = `${Math.min(perfil1.motivacao, perfil2.motivacao)}-${Math.max(perfil1.motivacao, perfil2.motivacao)}`;
      
      return {
        numeroPareja,
        chaveCompatibilidade,
        detalhes: compatibilidadesSinastria[chaveCompatibilidade] || {
          tipo: "Combina√ß√£o √önica",
          titulo: "Combina√ß√£o Especial a Ser Explorada",
          texto: "Esta √© uma combina√ß√£o √∫nica que requer an√°lise personalizada das energias envolvidas."
        }
      };
    }

    // Fun√ß√£o para calcular Pin√°culos da Vida
    function calcularPinaculosCompletos() {
      const nome = document.getElementById('nomePinaculos').value.trim();
      const data = document.getElementById('dataPinaculos').value;
      
      if (!nome || !data) {
        alert('Por favor, preencha todos os campos.');
        return;
      }
      
      const [ano, mes, dia] = data.split('-').map(Number);
      
      // Calcular os 4 pin√°culos
      const pin√°culo1 = reduzirNumero(mes + dia);
      const pin√°culo2 = reduzirNumero(dia + ano);
      const pin√°culo3 = reduzirNumero(pin√°culo1 + pin√°culo2);
      const pin√°culo4 = reduzirNumero(mes + ano);
      
      // Calcular idades dos pin√°culos
      const numeroDestino = reduzirNumero(dia + mes + ano);
      const idade1 = 36 - numeroDestino;
      const idade2 = idade1 + 9;
      const idade3 = idade2 + 9;
      
      const pin√°culos = [
        { numero: pin√°culo1, idade: `0 - ${idade1} anos`, fase: "Forma√ß√£o" },
        { numero: pin√°culo2, idade: `${idade1 + 1} - ${idade2} anos`, fase: "Produtividade" },
        { numero: pin√°culo3, idade: `${idade2 + 1} - ${idade3} anos`, fase: "Colheita" },
        { numero: pin√°culo4, idade: `${idade3 + 1} anos em diante`, fase: "Sabedoria" }
      ];
      
      renderResultadosPinaculos(pin√°culos, nome);
    }
    
    function renderResultadosPinaculos(pin√°culos, nome) {
      const resultadosDiv = document.getElementById('resultados-pinaculos');
      
      let html = `
        <div class="card">
          <h3 class="text-center">Pin√°culos da Vida de ${nome}</h3>
          <p class="text-center" style="margin-bottom: 2rem; color: #d4af37;">
            Os quatro grandes ciclos de aprendizado e crescimento da sua jornada terrena
          </p>
      `;
      
      pin√°culos.forEach((pin√°culo, index) => {
        const interpretacao = interpretacoesPinaculosExpandidos[pin√°culo.numero];
        if (interpretacao) {
          html += `
            <div class="pin√°culo-section" style="margin-bottom: 2rem; padding: 1.5rem; border-left: 4px solid #d4af37; background: rgba(212, 175, 55, 0.1);">
              <h4 style="color: #d4af37; margin-bottom: 1rem;">
                ${index + 1}¬∫ Pin√°culo - ${pin√°culo.fase} (${pin√°culo.idade})
              </h4>
              <h5 style="color: #e8dcc6; margin-bottom: 1rem;">
                ${interpretacao.titulo}
              </h5>
              <p style="line-height: 1.8; text-align: justify; color: #e8dcc6;">
                ${interpretacao.texto}
              </p>
            </div>
          `;
        }
      });
      
      html += `</div>`;
      
      resultadosDiv.innerHTML = html;
      resultadosDiv.classList.remove('hidden');
    }

    function renderResultadosSinastria(perfil1, perfil2, compatibilidade, nome1, nome2) {
      const resultadosDiv = document.getElementById('resultados-sinastria');
      
      const interpretacao = compatibilidadesSinastria[compatibilidade.chaveCompatibilidade];
      const analiseExpandida = obterAnaliseExpandida(compatibilidade.numeroPareja);
      
      let html = `
        <div class="card">
          <h3 class="text-center">An√°lise de Compatibilidade Numerol√≥gica</h3>
          <p class="text-center" style="margin-bottom: 2rem; color: #d4af37;">
            ${nome1} & ${nome2}
          </p>
          
          <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 2rem; margin-bottom: 2rem;">
            <div style="text-align: center; padding: 1rem; background: rgba(212, 175, 55, 0.1); border-radius: 8px;">
              <h4 style="color: #d4af37; margin-bottom: 0.5rem;">${nome1}</h4>
              <p style="color: #e8dcc6;">Motiva√ß√£o: ${perfil1.motivacao} | Impress√£o: ${perfil1.impressao} | Destino: ${perfil1.destino}</p>
            </div>
            <div style="text-align: center; padding: 1rem; background: rgba(212, 175, 55, 0.1); border-radius: 8px;">
              <h4 style="color: #d4af37; margin-bottom: 0.5rem;">${nome2}</h4>
              <p style="color: #e8dcc6;">Motiva√ß√£o: ${perfil2.motivacao} | Impress√£o: ${perfil2.impressao} | Destino: ${perfil2.destino}</p>
            </div>
          </div>
          
          <div style="text-align: center; margin: 2rem 0;">
            <div class="number-display">${compatibilidade.numeroPareja}</div>
            <h4 style="color: #d4af37;">N√∫mero da Pareja</h4>
          </div>
      `;
      
      // An√°lise expandida do n√∫mero da pareja
      if (analiseExpandida) {
        html += `
          <div style="margin: 2rem 0; padding: 2rem; background: rgba(62,10,41,0.3); border-radius: 12px; border: 1px solid #d4af37;">
            <h3 style="color: #d4af37; text-align: center; margin-bottom: 1.5rem;">${analiseExpandida.significado}</h3>
            <p style="line-height: 1.8; text-align: justify; color: #e8dcc6; margin-bottom: 2rem;">
              ${analiseExpandida.descricao}
            </p>
            
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 2rem; margin: 2rem 0;">
              <div style="padding: 1.5rem; background: rgba(178,209,177,0.1); border-radius: 8px; border-left: 4px solid #8B9D83;">
                <h4 style="color: #8B9D83; margin-bottom: 1rem;">‚úÖ Pontos Positivos</h4>
                <ul style="color: #e8dcc6; line-height: 1.6;">
                  ${(analiseExpandida.pontos_positivos || []).map(ponto => `<li>${ponto}</li>`).join('')}
                </ul>
              </div>
              <div style="padding: 1.5rem; background: rgba(240,170,83,0.1); border-radius: 8px; border-left: 4px solid #f0aa53;">
                <h4 style="color: #f0aa53; margin-bottom: 1rem;">‚ö†Ô∏è Pontos de Aten√ß√£o</h4>
                <ul style="color: #e8dcc6; line-height: 1.6;">
                  ${(analiseExpandida.pontos_negativos || []).map(ponto => `<li>${ponto}</li>`).join('')}
                </ul>
              </div>
            </div>
            
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 2rem; margin: 2rem 0;">
              <div style="padding: 1.5rem; background: rgba(212, 175, 55, 0.1); border-radius: 8px; border-left: 4px solid #d4af37;">
                <h4 style="color: #d4af37; margin-bottom: 1rem;">üåü O que Aproveitar</h4>
                <ul style="color: #e8dcc6; line-height: 1.6;">
                  ${(analiseExpandida.o_que_aproveitar || []).map(item => `<li>${item}</li>`).join('')}
                </ul>
              </div>
              <div style="padding: 1.5rem; background: rgba(242, 234, 255, 0.1); border-radius: 8px; border-left: 4px solid #f2eaff;">
                <h4 style="color: #f2eaff; margin-bottom: 1rem;">üö´ O que Evitar</h4>
                <ul style="color: #e8dcc6; line-height: 1.6;">
                  ${(analiseExpandida.o_que_evitar || []).map(item => `<li>${item}</li>`).join('')}
                </ul>
              </div>
            </div>
            
            <div style="margin-top: 2rem;">
              <h3 style="color: #d4af37; text-align: center; margin-bottom: 1.5rem;">An√°lise por √Åreas da Vida</h3>
              
              <div style="display: grid; gap: 1.5rem;">
                <div style="padding: 1.5rem; background: rgba(62,10,41,0.2); border-radius: 8px;">
                  <h4 style="color: #d4af37; margin-bottom: 1rem;">üè† Cotidiano</h4>
                  <p style="color: #e8dcc6; line-height: 1.7; text-align: justify;">${analiseExpandida.cotidiano || 'An√°lise n√£o dispon√≠vel.'}</p>
                </div>
                
                <div style="padding: 1.5rem; background: rgba(62,10,41,0.2); border-radius: 8px;">
                  <h4 style="color: #d4af37; margin-bottom: 1rem;">üí∞ Financeiro</h4>
                  <p style="color: #e8dcc6; line-height: 1.7; text-align: justify;">${analiseExpandida.financeiro || 'An√°lise n√£o dispon√≠vel.'}</p>
                </div>
                
                <div style="padding: 1.5rem; background: rgba(62,10,41,0.2); border-radius: 8px;">
                  <h4 style="color: #d4af37; margin-bottom: 1rem;">üå± Crescimento Pessoal</h4>
                  <p style="color: #e8dcc6; line-height: 1.7; text-align: justify;">${analiseExpandida.pessoal || 'An√°lise n√£o dispon√≠vel.'}</p>
                </div>
                
                <div style="padding: 1.5rem; background: rgba(62,10,41,0.2); border-radius: 8px;">
                  <h4 style="color: #d4af37; margin-bottom: 1rem;">üôè Espiritualidade</h4>
                  <p style="color: #e8dcc6; line-height: 1.7; text-align: justify;">${analiseExpandida.espiritual || 'An√°lise n√£o dispon√≠vel.'}</p>
                </div>
                
                <div style="padding: 1.5rem; background: rgba(62,10,41,0.2); border-radius: 8px;">
                  <h4 style="color: #d4af37; margin-bottom: 1rem;">üíé Cren√ßas e Valores</h4>
                  <p style="color: #e8dcc6; line-height: 1.7; text-align: justify;">${analiseExpandida.crencas_valores || 'An√°lise n√£o dispon√≠vel.'}</p>
                </div>
              </div>
            </div>
          </div>
        `;
      }
      
      // Interpreta√ß√£o original da combina√ß√£o espec√≠fica
      if (interpretacao) {
        html += `
          <div style="margin-top: 2rem; padding: 1.5rem; border-left: 4px solid #d4af37; background: rgba(212, 175, 55, 0.1);">
            <h4 style="color: #d4af37; margin-bottom: 1rem;">
              ${interpretacao.titulo}
            </h4>
            <p style="line-height: 1.8; text-align: justify; color: #e8dcc6;">
              ${interpretacao.texto}
            </p>
          </div>
        `;
      }
      
      html += `
        </div>
      `;
      
      resultadosDiv.innerHTML = html;
      resultadosDiv.classList.remove('hidden');
    }

    // Fun√ß√µes de exemplo
    function preencherExemploMapa() {
      document.getElementById('nomeCompleto').value = 'Maria Silva Santos';
      document.getElementById('dataNascimento').value = '1990-05-15';
    }

    function preencherExemploPiramide() {
      document.getElementById('nomePiramide').value = 'Maria Silva Santos';
      document.getElementById('idadePiramide').value = '33';
    }

    function preencherExemploPinaculos() {
      document.getElementById('nomePinaculos').value = 'Maria Silva Santos';
      document.getElementById('dataPinaculos').value = '1990-05-15';
    }

    function preencherExemploSinastria() {
      document.getElementById('nomePessoa1').value = 'Maria Silva Santos';
      document.getElementById('dataPessoa1').value = '1990-05-15';
      document.getElementById('nomePessoa2').value = 'Jo√£o Carlos Oliveira';
      document.getElementById('dataPessoa2').value = '1988-08-22';
    }

    // Fun√ß√µes de limpeza
    function limparMapa() {
      document.getElementById('nomeCompleto').value = '';
      document.getElementById('dataNascimento').value = '';
      document.getElementById('resultados-mapa').classList.add('hidden');
    }

    function limparPiramide() {
      document.getElementById('nomePiramide').value = '';
      document.getElementById('idadePiramide').value = '';
      document.getElementById('resultados-piramide').classList.add('hidden');
    }

    function limparSinastria() {
      document.getElementById('nomePessoa1').value = '';
      document.getElementById('dataPessoa1').value = '';
      document.getElementById('nomePessoa2').value = '';
      document.getElementById('dataPessoa2').value = '';
      document.getElementById('resultados-sinastria').classList.add('hidden');
    }
    

    
  </script>
</body>
</html>
