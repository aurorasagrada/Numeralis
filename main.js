// Mapeamento das variáveis carregadas dos arquivos externos
    window.addEventListener("load", function() {
      // Mapear variáveis dos arquivos JS para nomes esperados pelo código
      if (typeof interpretacoesPitagoricasUltraExpandidas !== "undefined") {
        window.interpretacoesPitagoricas = interpretacoesPitagoricasUltraExpandidas;
      }
    });
    
    // Tabelas numerológicas
    const tabelaPitagorica = {
      "A": 1, "B": 2, "C": 3, "D": 4, "E": 5, "F": 6, "G": 7, "H": 8, "I": 9,
      "J": 1, "K": 2, "L": 3, "M": 4, "N": 5, "O": 6, "P": 7, "Q": 8, "R": 9,
      "S": 1, "T": 2, "U": 3, "V": 4, "W": 5, "X": 6, "Y": 7, "Z": 8
    };

    const tabelaCabalistica = {
      "A": 1, "B": 2, "C": 3, "D": 4, "E": 5, "F": 6, "G": 7, "H": 8,
      "I": 1, "J": 2, "K": 3, "L": 4, "M": 5, "N": 6, "O": 7, "P": 8,
      "Q": 1, "R": 2, "S": 3, "T": 4, "U": 5, "V": 6, "W": 7, "X": 8,
      "Y": 1, "Z": 2
    };

    const vogais = ["A", "E", "I", "O", "U"];
    const numerosMestres = [11, 22, 33];
    const numerosKarmicos = [13, 14, 16, 19];

    // Nomes dos Arcanos
    const nomesArcanos = {
      0: "O Louco", 1: "O Mago", 2: "A Sacerdotisa", 3: "A Imperatriz", 4: "O Imperador",
      5: "O Papa", 6: "Os Enamorados", 7: "O Carro", 8: "A Força", 9: "O Eremita",
      10: "A Roda da Fortuna", 11: "A Justiça", 12: "O Enforcado", 13: "A Morte",
      14: "A Temperança", 15: "O Diabo", 16: "A Torre", 17: "A Estrela", 18: "A Lua",
      19: "O Sol", 20: "O Julgamento", 21: "O Mundo", 22: "O Louco"
    };

    // Sequências Negativas da Pirâmide Cabalística
    const sequenciasNegativasInfo = {
      111: {
        titulo: "Sequência 111 - O Bloqueio da Iniciativa Primordial",
        texto: "A manifestação da sequência 111 na pirâmide cabalística representa um dos padrões mais desafiadores da numerologia esotérica, criando uma estagnação profunda que afeta a capacidade fundamental de iniciar movimentos na vida. Esta configuração numérica atua como um bloqueio energético que impede o fluxo natural da força vital, criando uma resistência inconsciente a qualquer forma de mudança ou progresso. Pessoas que carregam esta sequência em sua pirâmide frequentemente experimentam longos períodos de paralisia existencial, onde mesmo as decisões mais simples se tornam monumentalmente difíceis. A energia estagnada do 111 cria um campo de inércia que se manifesta tanto no plano físico quanto no emocional, resultando em uma sensação constante de estar \'preso\' ou \'travado\' em situações que não oferecem crescimento ou satisfação. No aspecto da saúde, esta sequência está diretamente relacionada com distúrbios circulatórios graves, pois a estagnação energética se reflete literalmente no sistema cardiovascular. Aneurismas, embolias, tromboses e infartos são manifestações físicas comuns desta configuração, representando simbolicamente a incapacidade do sangue - e da energia vital - de fluir livremente pelo organismo. A superação desta influência requer um trabalho consciente e gradual de desbloqueio energético, começando com pequenas ações diárias que quebrem o padrão de inércia e restabeleçam o fluxo natural da vida."
      },
      222: {
        titulo: "Sequência 222 - A Prisão da Indecisão e o Labirinto da Dependência",
        texto: "A sequência 222 na pirâmide cabalística revela uma das configurações mais sutilmente destrutivas da numerologia esotérica, criando um padrão de indecisão crônica que se infiltra em todos os aspectos da existência como uma névoa paralisante. Esta configuração numérica atua como um campo magnético que atrai situações onde a pessoa se vê constantemente forçada a escolher entre opções que parecem igualmente válidas ou igualmente problemáticas, criando um estado perpétuo de ansiedade decisória. Indivíduos que carregam esta sequência desenvolvem uma dependência patológica da opinião e aprovação de outros, perdendo gradualmente a conexão com sua própria voz interior e capacidade de discernimento. A energia do 222 cria uma dinâmica viciosa onde cada decisão adiada fortalece o padrão de indecisão, tornando as próximas escolhas ainda mais difíceis e angustiantes. Esta configuração frequentemente resulta em relacionamentos codependentes onde a pessoa assume o papel de vítima ou salvador, sempre buscando validação externa para sua própria existência. No aspecto da saúde física, a sequência 222 manifesta-se através de distúrbios que refletem a instabilidade emocional: vícios em substâncias, comportamentos compulsivos, hipocondria e uma tendência a desenvolver dependências que proporcionem alívio temporário da ansiedade constante. A transformação desta energia requer um trabalho corajoso de reconexão com a intuição pessoal e o desenvolvimento gradual da confiança nas próprias percepções e julgamentos."
      },
      333: {
        titulo: "Sequência 333 - O Silêncio Forçado e a Prisão da Expressão",
        texto: "A sequência 333 na pirâmide cabalística é uma das mais dolorosas, pois ataca diretamente o centro da expressão criativa e da comunicação autêntica. Esta configuração numérica cria um bloqueio na garganta energética, tornando extremamente difícil para a pessoa verbalizar seus pensamentos, sentimentos e necessidades de forma clara e assertiva. Indivíduos com esta sequência muitas vezes se sentem invisíveis ou não ouvidos, desenvolvendo uma crença profunda de que sua voz não tem importância ou que suas ideias serão ridicularizadas. Este silêncio forçado pode levar a uma acumulação de frustração e ressentimento, que eventualmente se manifesta como explosões emocionais descontroladas ou, em casos mais graves, como doenças psicossomáticas na região da garganta, como laringite crônica, problemas na tireoide ou até mesmo câncer. A energia do 333 cria um ciclo vicioso onde a falta de expressão leva ao isolamento, e o isolamento reforça a crença de que não vale a pena se comunicar. A superação desta influência exige um trabalho profundo de cura da autoestima e o desenvolvimento de canais alternativos de expressão criativa, como a escrita, a pintura ou a música, que podem servir como pontes para a comunicação verbal autêntica."
      },
      444: {
        titulo: "Sequência 444 - O Peso do Mundo e a Armadilha da Sobrecarga",
        texto: "A sequência 444 na pirâmide cabalística representa a materialização da sobrecarga e da responsabilidade excessiva. Esta configuração numérica atrai para a vida da pessoa uma quantidade desproporcional de trabalho, obrigações e fardos que parecem impossíveis de administrar. Indivíduos com esta sequência frequentemente se sentem esmagados pelo peso do mundo, assumindo responsabilidades que não lhes pertencem e se sacrificando constantemente em prol dos outros, negligenciando suas próprias necessidades e bem-estar. A energia do 444 cria uma mentalidade de mártir, onde a pessoa acredita que seu valor reside unicamente em sua capacidade de servir e suportar dificuldades. Este padrão leva a um esgotamento físico e emocional crônico, manifestando-se em problemas de saúde relacionados ao estresse, como dores nas costas, problemas de coluna, hipertensão e doenças autoimunes. A pessoa se torna prisioneira de uma rotina exaustiva, perdendo a capacidade de sentir alegria, prazer ou espontaneidade. A transformação desta energia requer um aprendizado difícil, mas necessário, de estabelecer limites saudáveis, delegar responsabilidades e reconhecer que o autocuidado não é egoísmo, mas uma condição essencial para uma vida equilibrada e sustentável."
      },
      555: {
        titulo: "Sequência 555 - A Tempestade da Instabilidade e o Medo da Liberdade",
        texto: "A sequência 555 na pirâmide cabalística é uma das mais voláteis e imprevisíveis, representando a energia da mudança constante e da instabilidade radical. Esta configuração numérica cria um campo de caos e turbulência na vida da pessoa, onde nada parece ser permanente ou seguro. Indivíduos com esta sequência experimentam mudanças abruptas e inesperadas em todas as áreas da vida: relacionamentos, carreira, finanças, saúde e moradia. Embora esta energia possa parecer excitante a princípio, a falta de estabilidade a longo prazo gera um estado de ansiedade e insegurança profundas. A pessoa desenvolve um medo paradoxal da liberdade, pois a ausência de estrutura e rotina a deixa desorientada e perdida. A energia do 555 pode levar a comportamentos impulsivos e autodestrutivos, como o abuso de substâncias, o envolvimento em relacionamentos perigosos ou a busca incessante por adrenalina como forma de escapar do vazio interior. No aspecto da saúde, esta sequência está associada a problemas no sistema nervoso, como ansiedade generalizada, ataques de pânico, insônia e distúrbios neurológicos. A transformação desta energia requer um trabalho de ancoragem e centramento, aprendendo a encontrar um ponto de estabilidade interior em meio ao caos exterior e a usar a energia da mudança de forma construtiva, em vez de ser vítima dela."
      },
      666: {
        titulo: "Sequência 666 - A Sombra do Materialismo e a Ilusão do Controle",
        texto: "A sequência 666 na pirâmide cabalística é frequentemente mal compreendida, mas sua verdadeira natureza reside na obsessão pelo plano material e na ilusão do controle absoluto. Esta configuração numérica cria uma fixação desequilibrada em questões de dinheiro, poder, status e posses, levando a pessoa a acreditar que sua segurança e felicidade dependem exclusivamente de sua capacidade de acumular e controlar recursos materiais. Indivíduos com esta sequência desenvolvem um medo paralisante da perda e da escassez, tornando-se prisioneiros de uma busca incessante por mais. A energia do 666 cria uma desconexão profunda com o mundo espiritual e emocional, resultando em um vazio existencial que nenhuma quantidade de riqueza material pode preencher. A pessoa se torna cínica, desconfiada e manipuladora, vendo os outros como meros instrumentos para atingir seus objetivos materiais. No aspecto da saúde, esta sequência está associada a doenças que refletem o desequilíbrio entre o corpo e a alma, como problemas digestivos crônicos, obesidade, doenças cardíacas relacionadas ao estresse e distúrbios psicossomáticos que não têm causa orgânica aparente. A transformação desta energia requer um despertar espiritual doloroso, mas necessário, onde a pessoa é forçada a confrontar a futilidade de sua busca material e a redescobrir a importância do amor, da conexão e do propósito espiritual."
      },
      777: {
        titulo: "Sequência 777 - O Exílio da Solidão e a Armadilha do Intelecto",
        texto: "A sequência 777 na pirâmide cabalística representa a energia da introspecção levada ao extremo, resultando em um isolamento profundo e uma desconexão dolorosa do mundo exterior. Esta configuração numérica cria uma mente excessivamente analítica e crítica, que busca refúgio no mundo das ideias e teorias, evitando o contato com a realidade confusa e imperfeita da vida cotidiana. Indivíduos com esta sequência frequentemente se sentem incompreendidos e superiores aos outros, desenvolvendo uma arrogância intelectual que mascara uma profunda insegurança e um medo paralisante da intimidade. A energia do 777 cria uma barreira invisível entre a pessoa e o mundo, tornando extremamente difícil para ela estabelecer conexões emocionais autênticas e duradouras. A solidão se torna uma prisão autoimposta, onde a pessoa se convence de que é melhor estar sozinha do que arriscar a vulnerabilidade de um relacionamento real. No aspecto da saúde, esta sequência está associada a problemas que refletem a desconexão entre a mente e o corpo, como dores de cabeça crônicas, enxaquecas, distúrbios do sono, depressão e uma tendência a desenvolver doenças raras e de difícil diagnóstico. A transformação desta energia requer um movimento corajoso de sair da mente e entrar no coração, aprendendo a valorizar a sabedoria da intuição e a beleza imperfeita das conexões humanas."
      },
      888: {
        titulo: "Sequência 888 - A Tirania do Poder e a Corrupção da Ambição",
        texto: "A sequência 888 na pirâmide cabalística representa a energia do poder e da ambição levada a um extremo perigoso e destrutivo. Esta configuração numérica cria uma sede insaciável por controle, autoridade e reconhecimento, que pode levar a pessoa a usar meios antiéticos e manipuladores para atingir seus objetivos. Indivíduos com esta sequência frequentemente desenvolvem uma personalidade tirânica e dominadora, vendo os outros como peões em seu jogo de poder e não hesitando em sacrificar relacionamentos e valores em nome de sua ambição. A energia do 888 cria uma desconexão com a fonte do verdadeiro poder, que é o poder interior da alma, e a substitui pela busca incessante de poder externo, que é sempre efêmero e insatisfatório. A pessoa se torna prisioneira de sua própria ambição, vivendo em um estado constante de estresse, paranoia e medo de perder o que conquistou. No aspecto da saúde, esta sequência está associada a doenças relacionadas ao estresse crônico e à repressão emocional, como problemas cardíacos graves, hipertensão arterial, úlceras, derrames e colapsos nervosos. A transformação desta energia requer uma redefinição radical do conceito de poder, aprendendo a encontrar força na vulnerabilidade, na colaboração e no serviço desinteressado aos outros."
      },
      999: {
        titulo: "Sequência 999 - O Fardo do Sacrifício e a Desilusão do Salvador",
        texto: "A sequência 999 na pirâmide cabalística representa a energia do altruísmo e da compaixão levada a um extremo de autossacrifício e esgotamento. Esta configuração numérica cria um padrão de comportamento onde a pessoa se sente responsável pela felicidade e bem-estar de todos ao seu redor, assumindo fardos que não lhe pertencem e se doando até o ponto de completa exaustão. Indivíduos com esta sequência frequentemente desenvolvem o complexo de salvador, acreditando que seu propósito na vida é resolver os problemas dos outros, mesmo que isso signifique negligenciar completamente suas próprias necessidades e desejos. A energia do 999 cria uma dificuldade profunda em receber, pois a pessoa se sente mais confortável no papel de doador e se sente culpada ou indigna quando recebe ajuda ou apoio. Este padrão leva a um esgotamento emocional, físico e espiritual, resultando em doenças como fadiga crônica, depressão, sistema imunológico enfraquecido e uma sensação geral de desilusão e amargura. A pessoa se sente ressentida por não receber o mesmo cuidado e dedicação que oferece aos outros, sem perceber que ela mesma criou essa dinâmica desequilibrada. A transformação desta energia requer um aprendizado profundo sobre o amor-próprio e a importância de nutrir a si mesmo antes de tentar salvar o mundo."
      }
    };

    // Desafios Cármicos
    const desafiosCarmicosInfo = {
      1: {
        titulo: "Desafio Cármico 1 - A Lição da Individualidade e da Autoconfiança",
        significado: "Este desafio indica uma luta para desenvolver a autoconfiança, a independência e a coragem de ser você mesmo. Em vidas passadas, você pode ter sido excessivamente dependente dos outros ou ter tido sua individualidade suprimida. Nesta vida, você é chamado a aprender a confiar em sua própria voz interior, a tomar suas próprias decisões e a liderar sua própria vida com coragem e determinação.",
        licoesPrincipais: [
          "Desenvolver a autoconfiança e a autoestima.",
          "Aprender a tomar decisões de forma independente.",
          "Superar o medo da crítica e da desaprovação.",
          "Assumir a liderança em sua própria vida.",
          "Expressar sua originalidade e criatividade sem medo."
        ],
        padroesDisfuncionais: [
          "Dependência excessiva da opinião dos outros.",
          "Insegurança e baixa autoestima.",
          "Medo de assumir riscos e de tomar a iniciativa.",
          "Tendência a seguir a multidão em vez de seu próprio caminho.",
          "Dificuldade em dizer \'não\' e em estabelecer limites."
        ],
        sinaisManifestacao: [
          "Sentir-se constantemente em dúvida sobre suas próprias capacidades.",
          "Buscar validação externa para suas decisões.",
          "Evitar situações de liderança ou de destaque.",
          "Sentir-se frustrado por não conseguir realizar seus próprios sonhos.",
          "Ter dificuldade em expressar suas opiniões e desejos."
        ],
        estrategiasTransformacao: [
          "Praticar a tomada de pequenas decisões diárias de forma independente.",
          "Envolver-se em atividades que desenvolvam sua criatividade e autoconfiança.",
          "Buscar terapia ou coaching para trabalhar a autoestima e a assertividade.",
          "Estudar a vida de pessoas que demonstraram grande coragem e individualidade.",
          "Celebrar suas pequenas vitórias e reconhecer seu próprio valor."
        ]
      },
      2: {
        titulo: "Desafio Cármico 2 - A Lição da Cooperação e da Diplomacia",
        significado: "Este desafio indica uma dificuldade em cooperar com os outros, em ser diplomático e em manter relacionamentos harmoniosos. Em vidas passadas, você pode ter sido excessivamente competitivo, agressivo ou insensível às necessidades dos outros. Nesta vida, você é chamado a aprender a arte da cooperação, da paciência e da sensibilidade, a desenvolver a capacidade de ouvir e de se colocar no lugar do outro.",
        licoesPrincipais: [
          "Desenvolver a paciência e a tolerância.",
          "Aprender a cooperar e a trabalhar em equipe.",
          "Desenvolver a sensibilidade e a empatia.",
          "Aprender a resolver conflitos de forma pacífica e diplomática.",
          "Construir relacionamentos baseados no respeito mútuo e na reciprocidade."
        ],
        padroesDisfuncionais: [
          "Impaciência e irritabilidade com os outros.",
          "Tendência a ser excessivamente competitivo e individualista.",
          "Dificuldade em ouvir e em considerar a opinião dos outros.",
          "Comportamento agressivo ou passivo-agressivo em situações de conflito.",
          "Relacionamentos instáveis e conflituosos."
        ],
        sinaisManifestacao: [
          "Sentir-se constantemente em conflito com as pessoas ao seu redor.",
          "Ter dificuldade em manter amizades e parcerias.",
          "Ser visto como uma pessoa difícil ou insensível.",
          "Sentir-se solitário e incompreendido.",
          "Envolver-se em discussões e brigas desnecessárias."
        ],
        estrategiasTransformacao: [
          "Praticar a escuta ativa e a comunicação não-violenta.",
          "Envolver-se em atividades de grupo que exijam cooperação.",
          "Buscar terapia de casal ou de família para melhorar seus relacionamentos.",
          "Meditar sobre a importância da paz e da harmonia.",
          "Fazer trabalho voluntário para desenvolver a empatia e a compaixão."
        ]
      },
      3: {
        titulo: "Desafio Cármico 3 - A Lição da Expressão e da Criatividade",
        significado: "Este desafio indica uma dificuldade em expressar seus sentimentos, ideias e talentos criativos. Em vidas passadas, você pode ter sido silenciado, criticado ou ridicularizado por sua expressão, ou pode ter usado seus talentos de forma superficial e irresponsável. Nesta vida, você é chamado a encontrar sua voz autêntica, a superar o medo do julgamento e a usar sua criatividade para inspirar e elevar os outros.",
        licoesPrincipais: [
          "Desenvolver a capacidade de expressar sentimentos e emoções de forma saudável.",
          "Superar o medo da crítica e do julgamento.",
          "Encontrar e desenvolver seus talentos criativos.",
          "Usar a comunicação de forma construtiva e inspiradora.",
          "Aprender a levar a vida com mais leveza e bom humor."
        ],
        padroesDisfuncionais: [
          "Timidez excessiva e dificuldade em se comunicar.",
          "Medo de falar em público ou de expressar suas opiniões.",
          "Tendência a reprimir sentimentos e emoções.",
          "Uso da comunicação de forma negativa, através da fofoca ou da crítica.",
          "Sentimento de bloqueio criativo e de falta de inspiração."
        ],
        sinaisManifestacao: [
          "Sentir-se invisível e não ouvido.",
          "Ter dificuldade em fazer amigos e em se conectar com as pessoas.",
          "Sentir um vazio interior e uma falta de propósito.",
          "Ser excessivamente autocrítico e perfeccionista.",
          "Ter uma visão pessimista e negativa da vida."
        ],
        estrategiasTransformacao: [
          "Fazer aulas de teatro, canto, dança ou outra forma de expressão artística.",
          "Manter um diário para expressar seus sentimentos e pensamentos.",
          "Buscar terapia para trabalhar a timidez e o medo da rejeição.",
          "Praticar a comunicação assertiva e a expressão de suas necessidades.",
          "Cercar-se de pessoas positivas e que incentivem sua criatividade."
        ]
      },
      4: {
        titulo: "Desafio Cármico 4 - A Lição da Estrutura e da Disciplina",
        significado: "Este desafio indica uma dificuldade em lidar com a estrutura, a disciplina, o trabalho duro e as responsabilidades da vida material. Em vidas passadas, você pode ter sido preguiçoso, irresponsável ou ter evitado o trabalho e as obrigações. Nesta vida, você é chamado a aprender o valor da disciplina, da organização e da perseverança, a construir bases sólidas para sua vida e a encontrar segurança e estabilidade através do seu próprio esforço.",
        licoesPrincipais: [
          "Desenvolver a disciplina e a autodisciplina.",
          "Aprender a ser organizado e a planejar o futuro.",
          "Assumir a responsabilidade por sua própria vida e por suas escolhas.",
          "Encontrar satisfação e propósito no trabalho.",
          "Construir uma vida estável e segura."
        ],
        padroesDisfuncionais: [
          "Preguiça, procrastinação e falta de disciplina.",
          "Desorganização e caos na vida pessoal e profissional.",
          "Tendência a evitar responsabilidades e a culpar os outros por seus problemas.",
          "Instabilidade financeira e profissional.",
          "Sentimento de sobrecarga e de ressentimento em relação ao trabalho."
        ],
        sinaisManifestacao: [
          "Viver em um estado constante de desordem e confusão.",
          "Ter dificuldade em manter um emprego ou em progredir na carreira.",
          "Sentir-se perdido e sem direção na vida.",
          "Acumular dívidas e problemas financeiros.",
          "Sentir que a vida é uma luta constante e um fardo pesado."
        ],
        estrategiasTransformacao: [
          "Criar rotinas e hábitos saudáveis.",
          "Usar agendas, planners e outras ferramentas de organização.",
          "Definir metas claras e realistas e trabalhar para alcançá-las passo a passo.",
          "Buscar a ajuda de um mentor ou coach para desenvolver a disciplina e o foco.",
          "Aprender a encontrar alegria e satisfação nas pequenas tarefas do dia a dia."
        ]
      },
      5: {
        titulo: "Desafio Cármico 5 - A Lição da Liberdade e da Moderação",
        significado: "Este desafio indica uma dificuldade em lidar com a liberdade, a mudança e a variedade da vida de forma equilibrada. Em vidas passadas, você pode ter abusado da sua liberdade, ter sido impulsivo e irresponsável, ou ter tido sua liberdade restringida de forma severa. Nesta vida, você é chamado a aprender a usar sua liberdade com sabedoria e moderação, a se adaptar às mudanças de forma construtiva e a encontrar um equilíbrio entre a busca por novas experiências e a necessidade de estabilidade.",
        licoesPrincipais: [
          "Aprender a usar a liberdade com responsabilidade.",
          "Desenvolver a moderação e o autocontrole.",
          "Aprender a se adaptar às mudanças de forma positiva.",
          "Encontrar um equilíbrio entre a aventura e a segurança.",
          "Superar o medo do compromisso e da rotina."
        ],
        padroesDisfuncionais: [
          "Impulsividade, irresponsabilidade e falta de compromisso.",
          "Busca incessante por prazer e por novas sensações.",
          "Tendência a vícios e a comportamentos autodestrutivos.",
          "Instabilidade nos relacionamentos e na carreira.",
          "Medo da rotina e da monotonia."
        ],
        sinaisManifestacao: [
          "Mudar constantemente de emprego, de cidade ou de parceiro.",
          "Sentir-se entediado e insatisfeito com facilidade.",
          "Envolver-se em situações de risco e de perigo.",
          "Ter dificuldade em concluir o que começa.",
          "Sentir-se perdido e sem propósito na vida."
        ],
        estrategiasTransformacao: [
          "Praticar a meditação e o mindfulness para desenvolver o autocontrole.",
          "Estabelecer metas de longo prazo e se comprometer com elas.",
          "Buscar terapia para lidar com vícios e comportamentos compulsivos.",
          "Aprender a encontrar alegria e satisfação nas coisas simples da vida.",
          "Viajar e experimentar coisas novas de forma consciente e planejada."
        ]
      },
      6: {
        titulo: "Desafio Cármico 6 - A Lição do Amor e da Responsabilidade Afetiva",
        significado: "Este desafio indica uma dificuldade em lidar com o amor, a família, o lar e as responsabilidades afetivas. Em vidas passadas, você pode ter sido negligente com sua família, ter tido dificuldade em expressar amor ou ter sido excessivamente crítico e exigente com as pessoas que amava. Nesta vida, você é chamado a aprender a amar de forma incondicional, a cuidar dos seus entes queridos com responsabilidade e a criar um lar harmonioso e acolhedor.",
        licoesPrincipais: [
          "Aprender a amar e a se deixar amar.",
          "Desenvolver a responsabilidade afetiva e o cuidado com o outro.",
          "Superar o perfeccionismo e a crítica excessiva.",
          "Criar um ambiente familiar harmonioso e feliz.",
          "Encontrar um equilíbrio entre dar e receber amor."
        ],
        padroesDisfuncionais: [
          "Dificuldade em expressar afeto e em se conectar emocionalmente.",
          "Tendência a ser excessivamente crítico e controlador com a família.",
          "Medo do compromisso e da intimidade.",
          "Relacionamentos familiares conflituosos e disfuncionais.",
          "Sentimento de culpa e de sobrecarga em relação à família."
        ],
        sinaisManifestacao: [
          "Sentir-se distante e desconectado da sua família.",
          "Ter dificuldade em construir um relacionamento amoroso saudável e duradouro.",
          "Sentir que sua casa não é um verdadeiro lar.",
          "Ser excessivamente exigente consigo mesmo e com os outros.",
          "Sentir-se carente e insatisfeito em seus relacionamentos."
        ],
        estrategiasTransformacao: [
          "Fazer terapia familiar ou de casal para resolver conflitos e melhorar a comunicação.",
          "Praticar a expressão de afeto através de palavras e de gestos.",
          "Dedicar tempo de qualidade à sua família e aos seus amigos.",
          "Aprender a perdoar e a se libertar de ressentimentos do passado.",
          "Cuidar da sua casa e transformá-la em um refúgio de paz e de amor."
        ]
      },
      7: {
        titulo: "Desafio Cármico 7 - A Lição da Fé e da Confiança na Vida",
        significado: "Este desafio indica uma dificuldade em confiar na vida, na espiritualidade e em sua própria intuição. Em vidas passadas, você pode ter sido excessivamente cético e materialista, ter sofrido grandes desilusões ou ter sido traído em sua fé. Nesta vida, você é chamado a desenvolver a fé, a confiança e a conexão com o divino, a aprender a ouvir sua intuição e a encontrar um sentido maior para sua existência.",
        licoesPrincipais: [
          "Desenvolver a fé e a confiança na vida.",
          "Aprender a ouvir e a seguir sua intuição.",
          "Conectar-se com sua espiritualidade e com o divino.",
          "Superar o ceticismo e o medo do desconhecido.",
          "Encontrar um propósito maior para sua vida."
        ],
        padroesDisfuncionais: [
          "Ceticismo, cinismo e falta de fé.",
          "Medo da solidão e do silêncio.",
          "Tendência a analisar tudo de forma excessivamente racional.",
          "Dificuldade em se entregar e em confiar nos outros.",
          "Sentimento de vazio existencial e de falta de sentido."
        ],
        sinaisManifestacao: [
          "Sentir-se desconectado de si mesmo e do mundo.",
          "Ter dificuldade em meditar ou em praticar atividades espirituais.",
          "Buscar respostas apenas na ciência e na lógica.",
          "Sentir-se ansioso e inseguro em relação ao futuro.",
          "Ter uma visão pessimista e desiludida da vida."
        ],
        estrategiasTransformacao: [
          "Praticar a meditação, a yoga ou outras técnicas de conexão interior.",
          "Passar tempo na natureza para se reconectar com a beleza e a sabedoria da vida.",
          "Estudar diferentes tradições espirituais e filosóficas.",
          "Manter um diário de sonhos e de sincronicidades.",
          "Confiar em sua intuição e tomar pequenas decisões baseadas nela."
        ]
      },
      8: {
        titulo: "Desafio Cármico 8 - A Lição do Poder e da Abundância",
        significado: "Este desafio indica uma dificuldade em lidar com o poder, o dinheiro, o sucesso e a abundância de forma equilibrada. Em vidas passadas, você pode ter abusado do poder, ter sido ganancioso e materialista, ou ter sofrido grandes perdas e privações. Nesta vida, você é chamado a aprender a usar o poder com sabedoria e responsabilidade, a criar abundância de forma ética e a compartilhar sua prosperidade com os outros.",
        licoesPrincipais: [
          "Aprender a usar o poder de forma construtiva e para o bem de todos.",
          "Desenvolver uma relação saudável com o dinheiro e a abundância.",
          "Superar o medo da escassez e da pobreza.",
          "Aprender a ser generoso e a compartilhar seus recursos.",
          "Encontrar um equilíbrio entre a ambição material e os valores espirituais."
        ],
        padroesDisfuncionais: [
          "Ganância, materialismo e obsessão por dinheiro.",
          "Medo de assumir o poder e a responsabilidade.",
          "Tendência a ser autoritário e controlador.",
          "Problemas financeiros recorrentes, como dívidas ou perdas.",
          "Sentimento de inveja e de competição em relação ao sucesso dos outros."
        ],
        sinaisManifestacao: [
          "Viver em um estado constante de preocupação com dinheiro.",
          "Ter dificuldade em cobrar pelo seu trabalho ou em administrar suas finanças.",
          "Sentir-se culpado por ter sucesso ou por desejar a abundância.",
          "Envolver-se em negócios arriscados ou antiéticos.",
          "Ter uma relação de amor e ódio com o poder e o dinheiro."
        ],
        estrategiasTransformacao: [
          "Fazer um planejamento financeiro e aprender sobre investimentos.",
          "Praticar a gratidão e a generosidade.",
          "Trabalhar em sua autoestima e em seu senso de merecimento.",
          "Buscar a ajuda de um terapeuta ou coach para lidar com crenças limitantes sobre dinheiro.",
          "Usar seus recursos para apoiar causas e projetos que você acredita."
        ]
      },
      0: {
        titulo: "Ausência de Desafios Cármicos Maiores",
        significado: "A ausência de um número de desafio cármico principal indica que você já trabalhou e integrou as lições dos números de 1 a 8 em vidas passadas. Isso não significa que você não tenha desafios, mas que eles são mais sutis e relacionados à sua missão de vida e ao seu aprimoramento espiritual. Você tem a liberdade e a responsabilidade de escolher seus próprios desafios e de usar seus talentos para contribuir com o mundo de forma significativa.",
        licoesPrincipais: [
          "Descobrir e realizar sua missão de vida.",
          "Desenvolver seus dons e talentos ao máximo.",
          "Viver de acordo com seus valores e sua verdade interior.",
          "Servir à humanidade de forma desinteressada.",
          "Alcançar a iluminação e a maestria espiritual."
        ],
        padroesDisfuncionais: [
          "Sentimento de falta de direção e de propósito.",
          "Tendência a se acomodar e a não usar todo o seu potencial.",
          "Dificuldade em encontrar desafios que o motivem.",
          "Sentimento de superioridade ou de distanciamento em relação aos outros.",
          "Dificuldade em lidar com as imperfeições e os desafios do mundo material."
        ],
        sinaisManifestacao: [
          "Sentir-se entediado e insatisfeito com a vida, mesmo tendo tudo para ser feliz.",
          "Mudar constantemente de interesses e de projetos, sem se aprofundar em nada.",
          "Sentir-se diferente e incompreendido pelos outros.",
          "Ter uma sensação de que está faltando algo, mas não saber o quê.",
          "Buscar constantemente por novas experiências e conhecimentos, sem nunca se sentir satisfeito."
        ],
        estrategiasTransformacao: [
          "Fazer um processo de autoconhecimento profundo para descobrir sua missão de vida.",
          "Buscar a ajuda de um mentor ou guia espiritual.",
          "Dedicar-se a uma causa ou a um projeto que tenha um significado maior para você.",
          "Praticar a meditação e a contemplação para se conectar com sua essência divina.",
          "Viajar e conhecer diferentes culturas e realidades para expandir sua consciência."
        ]
      }
    };

    // Funções de cálculo
    function normalizarTexto(texto) {
      return texto.normalize("NFD").replace(/[\u0300-\u036f]/g, "").toUpperCase();
    }

    function reduzirNumero(numero, options = { preservaMestres: false }) {
      if (options.preservaMestres && numerosMestres.includes(numero)) {
        return numero;
      }
      
      if (numerosKarmicos.includes(numero)) {
        return numero;
      }
      
      let soma = numero;
      while (soma > 9 && (!options.preservaMestres || !numerosMestres.includes(soma))) {
        soma = String(soma).split("").reduce((acc, digit) => acc + parseInt(digit), 0);
      }
      
      return soma;
    }

    function calcularNumeroNome(nome, tabela, filtroLetras = null) {
      const nomeNormalizado = normalizarTexto(nome);
      let soma = 0;
      
      for (let letra of nomeNormalizado) {
        if (tabela[letra] && (!filtroLetras || filtroLetras.includes(letra))) {
          soma += tabela[letra];
        }
      }
      
      return soma;
    }

    function encontrarSequenciasNegativas(piramide) {
      const sequenciasEncontradas = [];
      
      for (let i = 0; i < piramide.length; i++) {
        const linha = piramide[i].join("");
        
        for (let seq in sequenciasNegativasInfo) {
          if (linha.includes(seq)) {
            const posicoes = [];
            let pos = linha.indexOf(seq);
            
            while (pos !== -1) {
              posicoes.push(pos);
              pos = linha.indexOf(seq, pos + 1);
            }
            
            for (let j of posicoes) {
              sequenciasEncontradas.push({
                linha: i,
                posicao: j,
                numero: linha[j]
              });
            }
          }
        }
      }
      
      return sequenciasEncontradas;
    }

    // Função principal para calcular o mapa pitagórico completo
    function calcularMapaCompleto() {
      const nome = document.getElementById("nomeCompleto").value.trim();
      const dataNascimento = document.getElementById("dataNascimento").value;
      
      if (!nome || !dataNascimento) {
        alert("Por favor, preencha todos os campos.");
        return;
      }
      
      const perfil = calcularPerfilNumerologico(nome, dataNascimento);
      renderResultadosMapa(perfil);
    }

    function calcularPerfilNumerologico(nome, dataNascimento) {
      const vogais = ["A", "E", "I", "O", "U"];
      
      const somaVogais = calcularNumeroNome(nome, tabelaPitagorica, vogais);
      const motivacao = reduzirNumero(somaVogais, { preservaMestres: true });
      
      const somaConsoantes = calcularNumeroNome(nome, tabelaPitagorica, 
        Object.keys(tabelaPitagorica).filter(letra => !vogais.includes(letra)));
      const impressao = reduzirNumero(somaConsoantes, { preservaMestres: true });
      
      const somaTotal = calcularNumeroNome(nome, tabelaPitagorica);
      const expressao = reduzirNumero(somaTotal, { preservaMestres: true });
      
      const dataNumeros = dataNascimento.replace(/-/g, "").split("").map(Number);
      const somaData = dataNumeros.reduce((sum, num) => sum + num, 0);
      const destino = reduzirNumero(somaData, { preservaMestres: true });
      
      // Números repetidos e kármicos
      const numerosRepetidos = analisarNumerosRepetidos(nome);
      const licoesKarmicas = identificarLicoesKarmicas(nome, dataNascimento);
      
      return {
        motivacao, impressao, expressao, destino,
        numerosRepetidos, licoesKarmicas
      };
    }

    function analisarNumerosRepetidos(nome) {
      const nomeNormalizado = normalizarTexto(nome);
      const contagem = {};
      
      for (let letra of nomeNormalizado) {
        const numero = tabelaPitagorica[letra];
        contagem[numero] = (contagem[numero] || 0) + 1;
      }
      
      return contagem;
    }

    function identificarLicoesKarmicas(nome, dataNascimento) {
      const nomeNormalizado = normalizarTexto(nome);
      const numerosPresentes = new Set();
      
      for (let letra of nomeNormalizado) {
        numerosPresentes.add(tabelaPitagorica[letra]);
      }
      
      const licoesKarmicas = [];
      for (let i = 1; i <= 9; i++) {
        if (!numerosPresentes.has(i)) {
          licoesKarmicas.push(i);
        }
      }
      
      return licoesKarmicas;
    }

    function renderResultadosMapa(perfil) {
      const resultadosDiv = document.getElementById("resultados-mapa");
      
      let html = `
        <div class="card">
          <h3 class="text-center">Seu Mapa Numerológico Pitagórico Completo</h3>
          <div class="results">
      `;
      
      // Motivação
      if (interpretacoesPitagoricas.motivacao[perfil.motivacao]) {
        html += `
          <div class="interpretation">
            <div class="number-display">${perfil.motivacao}</div>
            <h4>${interpretacoesPitagoricas.motivacao[perfil.motivacao].titulo}</h4>
            <p>${interpretacoesPitagoricas.motivacao[perfil.motivacao].texto}</p>
          </div>
        `;
      }
      
      // Impressão
      if (interpretacoesPitagoricas.impressao[perfil.impressao]) {
        html += `
          <div class="interpretation">
            <div class="number-display">${perfil.impressao}</div>
            <h4>${interpretacoesPitagoricas.impressao[perfil.impressao].titulo}</h4>
            <p>${interpretacoesPitagoricas.impressao[perfil.impressao].texto}</p>
          </div>
        `;
      }
      
      // Expressão
      if (interpretacoesPitagoricas.expressao[perfil.expressao]) {
        html += `
          <div class="interpretation">
            <div class="number-display">${perfil.expressao}</div>
            <h4>${interpretacoesPitagoricas.expressao[perfil.expressao].titulo}</h4>
            <p>${interpretacoesPitagoricas.expressao[perfil.expressao].texto}</p>
          </div>
        `;
      }
      
      // Destino
      if (interpretacoesPitagoricas.destino[perfil.destino]) {
        html += `
          <div class="interpretation">
            <div class="number-display">${perfil.destino}</div>
            <h4>${interpretacoesPitagoricas.destino[perfil.destino].titulo}</h4>
            <p>${interpretacoesPitagoricas.destino[perfil.destino].texto}</p>
          </div>
        `;
      }
      
      // Números repetidos
      html += `
        <div class="interpretation">
          <h4>Análise dos Números Repetidos</h4>
          <p>Os números que aparecem com maior frequência em seu nome revelam talentos naturais e áreas de foco em sua vida:</p>
      `;
      
      for (let [numero, quantidade] of Object.entries(perfil.numerosRepetidos)) {
        if (quantidade > 1) {
          html += `<p><strong>Número ${numero}</strong>: Aparece ${quantidade} vezes - Indica forte influência desta energia em sua personalidade.</p>`;
        }
      }
      
      html += `</div>`;
      
      // Lições Kármicas
      if (perfil.licoesKarmicas.length > 0) {
        html += `
          <div class="interpretation">
            <h4>Lições Kármicas a Desenvolver</h4>
            <p>Os números ausentes em seu nome indicam qualidades que você veio desenvolver nesta vida:</p>
        `;
        
        for (let numero of perfil.licoesKarmicas) {
          html += `<p><strong>Número ${numero}</strong>: Energia a ser desenvolvida e integrada em sua personalidade.</p>`;
        }
        
        html += `</div>`;
      }
      
      html += `
          </div>
        </div>
      `;
      
      resultadosDiv.innerHTML = html;
      resultadosDiv.classList.remove("hidden");
    }

    // Função para calcular a pirâmide completa
    function calcularPiramideCompleta() {
      const nome = document.getElementById("nomePiramide").value.trim();
      const idade = parseInt(document.getElementById("idadePiramide").value);
      
      if (!nome || isNaN(idade)) {
        alert("Por favor, preencha todos os campos.");
        return;
      }
      
      const piramide = construirPiramide(nome);
      const arcanoAtual = encontrarArcanoAtual(piramide, idade);
      const sequenciasNegativasEncontradas = encontrarSequenciasNegativas(piramide);
      const desafiosCarmicos = identificarDesafiosCarmicos(nome);
      
      renderResultadosPiramideCompleta(piramide, arcanoAtual, sequenciasNegativasEncontradas, desafiosCarmicos, idade);
    }

    function construirPiramide(nome) {
      const nomeNormalizado = normalizarTexto(nome);
      let linhaBase = [];
      
      for (let letra of nomeNormalizado) {
        if (tabelaCabalistica[letra]) {
          linhaBase.push(tabelaCabalistica[letra]);
        }
      }
      
      const piramide = [linhaBase];
      while (piramide[piramide.length - 1].length > 1) {
        const linhaAnterior = piramide[piramide.length - 1];
        const novaLinha = [];
        
        for (let i = 0; i < linhaAnterior.length - 1; i++) {
          let soma = linhaAnterior[i] + linhaAnterior[i + 1];
          novaLinha.push(reduzirNumero(soma));
        }
        
        piramide.push(novaLinha);
      }
      
      return piramide;
    }

    function encontrarArcanoAtual(piramide, idade) {
      const idadeCiclo = idade % 90;
      let contador = 0;
      
      for (let i = 0; i < piramide.length; i++) {
        for (let j = 0; j < piramide[i].length; j++) {
          contador++;
          if (contador > idadeCiclo) {
            return { linha: i, coluna: j, numero: piramide[i][j] };
          }
        }
      }
      
      // Caso a idade seja múltiplo de 90
      const ultimaLinha = piramide.length - 1;
      const ultimaColuna = piramide[ultimaLinha].length - 1;
      return { linha: ultimaLinha, coluna: ultimaColuna, numero: piramide[ultimaLinha][ultimaColuna] };
    }

    function identificarDesafiosCarmicos(nome) {
      const nomeNormalizado = normalizarTexto(nome);
      const numerosPresentes = new Set();
      
      for (let letra of nomeNormalizado) {
        numerosPresentes.add(tabelaCabalistica[letra]);
      }
      
      const desafios = [];
      for (let i = 1; i <= 8; i++) {
        if (!numerosPresentes.has(i)) {
          desafios.push({ desafio: desafiosCarmicosInfo[i] });
        }
      }
      
      if (desafios.length === 0) {
        desafios.push({ desafio: desafiosCarmicosInfo[0] });
      }
      
      return desafios;
    }

    function renderResultadosPiramideCompleta(piramide, arcanoAtual, sequenciasNegativasEncontradas, desafiosCarmicos, idade) {
      const resultadosDiv = document.getElementById("resultados-piramide");
      
      let html = `
        <div class="card">
          <h3 class="text-center" style="margin-bottom: 2rem;">Sua Pirâmide Cabalística e Análise Completa</h3>
      `;
      
      // Sequências Negativas
      if (sequenciasNegativasEncontradas.length > 0) {
        html += `
          <div class="card" style="margin: 2rem 0; background: rgba(62,10,41,0.1); border: 2px solid var(--wine);">
            <h3 style="color: var(--wine); text-align: center; margin-bottom: 2rem;">🚨 Atenção: Sequências Negativas Identificadas</h3>
            <p style="text-align: center; color: var(--sage); margin-bottom: 2rem; font-style: italic;">
              Padrões energéticos que podem estar bloqueando seu progresso
            </p>
        `;
        
        for (let seq of sequenciasNegativasEncontradas) {
          const info = sequenciasNegativasInfo[seq.numero.repeat(3)];
          if (info) {
            html += `
              <div style="background: rgba(11,24,54,0.3); border-radius: 15px; padding: 2.5rem; margin: 2rem 0; border: 1px solid var(--sage);">
                <h4 style="color: var(--gold); margin-bottom: 1.5rem; font-size: 1.3rem;">${info.titulo}</h4>
                <p style="line-height: 1.7; text-align: justify;">${info.texto}</p>
                <div style="margin-top: 1.5rem; text-align: center;">
                  <span style="background: var(--wine); color: #fff; padding: 0.5rem 1rem; border-radius: 5px; font-weight: bold;">
                    Localizada na linha ${seq.linha + 1} da sua pirâmide
                  </span>
                </div>
              </div>
            `;
          }
        }
      } else {
        html += `
          <div style="background: rgba(178,209,177,0.2); border: 2px solid var(--sage); border-radius: 10px; padding: 1.5rem; margin: 1rem 0; text-align: center;">
            <h4 style="color: var(--sage);">✨ Pirâmide Harmoniosa</h4>
            <p>Seu nome não apresenta sequências negativas, indicando um fluxo energético equilibrado.</p>
          </div>
        `;
      }
      
      // Pirâmide Visual
      html += `
          <h3 class="text-center" style="margin-top: 2rem;">Pirâmide Cabalística - Ciclo de 90 Anos</h3>
          <div class="pyramid-container">
      `;
      
      for (let i = 0; i < piramide.length; i++) {
        html += "<div class=\"pyramid-row\">";
        for (let j = 0; j < piramide[i].length; j++) {
          const isHighlight = (i === arcanoAtual.linha && j === arcanoAtual.coluna);
          let classe = "pyramid-cell";
          
          if (isHighlight) {
            classe += " highlight";
          }
          
          // Verificar se faz parte de sequência negativa
          for (let seq of sequenciasNegativasEncontradas) {
            if (seq.linha === i && j >= seq.posicao && j < seq.posicao + 3) {
              classe += " negative-sequence";
            }
          }
          
          html += `<div class=\"${classe}\">${piramide[i][j]}</div>`;
        }
        html += "</div>";
      }
      
      html += `
          </div>
        </div>
      `;
      
      // Desafios Cármicos
      if (desafiosCarmicos.length > 0) {
        html += `
          <div class="card" style="margin: 2rem 0; background: rgba(62,10,41,0.1); border: 2px solid var(--wine);">
            <h3 style="color: var(--wine); text-align: center; margin-bottom: 2rem;">🔥 Desafios Cármicos Identificados</h3>
            <p style="text-align: center; color: var(--sage); margin-bottom: 2rem; font-style: italic;">
              Lições de vida que sua alma escolheu desenvolver nesta encarnação
            </p>
        `;
        
        for (let desafio of desafiosCarmicos) {
          const info = desafio.desafio;
          html += `
            <div style="background: rgba(11,24,54,0.3); border-radius: 15px; padding: 2.5rem; margin: 2rem 0; border: 1px solid var(--sage);">
              <h4 style="color: var(--gold); margin-bottom: 1.5rem; font-size: 1.3rem;">${info.titulo}</h4>
              
              <div style="background: rgba(178,209,177,0.1); padding: 1.5rem; border-radius: 10px; margin-bottom: 2rem;">
                <h5 style="color: var(--sage); margin-bottom: 1rem;">🌱 Significado do Desafio:</h5>
                <p style="line-height: 1.7; text-align: justify;">${info.significado}</p>
              </div>
              
              <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 1.5rem; margin-bottom: 2rem;">
                <div style="background: rgba(240,170,83,0.1); padding: 1.5rem; border-radius: 10px;">
                  <h5 style="color: var(--gold); margin-bottom: 1rem;">✨ Lições Principais:</h5>
                  <ul style="margin: 0; padding-left: 1.2rem;">
                    ${info.licoesPrincipais.map(licao => `<li>${licao}</li>`).join("")}
                  </ul>
                </div>
                
                <div style="background: rgba(62,10,41,0.1); padding: 1.5rem; border-radius: 10px;">
                  <h5 style="color: var(--wine); margin-bottom: 1rem;">⚠️ Padrões Disfuncionais:</h5>
                  <ul style="margin: 0; padding-left: 1.2rem;">
                    ${info.padroesDisfuncionais.map(padrao => `<li>${padrao}</li>`).join("")}
                  </ul>
                </div>
              </div>
              
              <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 1.5rem; margin-bottom: 2rem;">
                <div style="background: rgba(11,24,54,0.2); padding: 1.5rem; border-radius: 10px;">
                  <h5 style="color: var(--parch); margin-bottom: 1rem;">🔍 Sinais de Manifestação:</h5>
                  <ul style="margin: 0; padding-left: 1.2rem;">
                    ${info.sinaisManifestacao.map(sinal => `<li>${sinal}</li>`).join("")}
                  </ul>
                </div>
                
                <div style="background: rgba(178,209,177,0.1); padding: 1.5rem; border-radius: 10px;">
                  <h5 style="color: var(--sage); margin-bottom: 1rem;">🛠️ Estratégias de Transformação:</h5>
                  <ul style="margin: 0; padding-left: 1.2rem;">
                    ${info.estrategiasTransformacao.map(estrategia => `<li>${estrategia}</li>`).join("")}
                  </ul>
                </div>
              </div>
              
            </div>
          `;
        }
        
        html += `</div>`;
      }
      
      // Arcano Regente
      html += `
        <div class="card" style="margin-top: 2rem;">
          <h3 class="text-center">Arcano Regente</h3>
          
          <div style="text-align: center; margin: 2rem 0;">
            <img src="${getCaminhoImagemArcano(arcanoAtual.numero)}" alt="${nomesArcanos[arcanoAtual.numero]}" 
                 style="width: 150px; height: auto; border-radius: 10px; box-shadow: 0 4px 8px rgba(0,0,0,0.3); margin-bottom: 1rem;" 
                 onerror="this.style.display=\'none\'; this.nextElementSibling.style.display=\'block\';">
            <div class="number-display" style="display: none;">${arcanoAtual.numero}</div>
            <h4>${nomesArcanos[arcanoAtual.numero] || "Arcano " + arcanoAtual.numero}</h4>
            <p style="color: var(--sage);">Arcano Regente aos ${idade} anos</p>
            ${criarBotaoLerMais(arcanoAtual.numero)}
          </div>
          
          <!-- Mapeamento de Idades dos Arcanos -->
          <div class="card" style="margin: 2rem 0; background: rgba(178,209,177,0.1);">
            <h3 style="color: var(--sage); text-align: center;">🎯 Idades dos Arcanos no Ciclo de 90 Anos</h3>
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(180px, 1fr)); gap: 0.8rem; margin: 1rem 0;">
      `;
      
      // Mapeamento de imagens dos arcanos
      const imagensArcanos = {
        1: "assets/img/cartas/01-I-TheMagician.jpg",
        2: "assets/img/cartas/02-II-TheHighPriestess.jpg",
        3: "assets/img/cartas/03-III-TheEmpress.jpg",
        4: "assets/img/cartas/04-IV-TheEmperor.jpg",
        5: "assets/img/cartas/05-V-TheHierophant.jpg",
        6: "assets/img/cartas/06-VI-TheLovers.jpg",
        7: "assets/img/cartas/07-VII-TheChariot.jpg",
        8: "assets/img/cartas/08-VIII-Strength.jpg",
        9: "assets/img/cartas/09-IX-TheHermit.jpg",
        10: "assets/img/cartas/10-X-WheelOfFortune.jpg",
        11: "assets/img/cartas/11-XI-Justice.jpg",
        12: "assets/img/cartas/12-XII-TheHangedMan.jpg",
        13: "assets/img/cartas/13-XIII-Death.jpg",
        14: "assets/img/cartas/14-XIV-Temperance.jpg",
        15: "assets/img/cartas/15-XV-TheDevil.jpg",
        16: "assets/img/cartas/16-XVI-TheTower.jpg",
        17: "assets/img/cartas/17-XVII-TheStar.jpg",
        18: "assets/img/cartas/18-XVIII-TheMoon.jpg",
        19: "assets/img/cartas/19-XIX-TheSun.jpg",
        20: "assets/img/cartas/20-XX-Judgement.jpg",
        21: "assets/img/cartas/21-XXI-TheWorld.jpg",
        22: "assets/img/cartas/00-O-TheFool.jpg"
      };

      function getCaminhoImagemArcano(numero) {
        return imagensArcanos[numero] || "";
      }

      // Função para criar o botão "Ler Mais"
      function criarBotaoLerMais(numeroArcano) {
        const caminho = `arcanos/arcano-${numeroArcano}.html`;
        return `<a href="${caminho}" target="_blank" class="btn btn-secondary" style="margin-top: 1rem;">Ler Mais sobre o Arcano</a>`;
      }

      let idadesArcanos = {};
      let idadeAtualCiclo = 0;
      for (let i = 0; i < piramide.length; i++) {
        for (let j = 0; j < piramide[i].length; j++) {
          const arcano = piramide[i][j];
          if (!idadesArcanos[arcano]) {
            idadesArcanos[arcano] = [];
          }
          idadesArcanos[arcano].push(idadeAtualCiclo);
          idadeAtualCiclo++;
        }
      }
      
      for (let arcano in idadesArcanos) {
        html += `
          <div style="background: rgba(11,24,54,0.3); padding: 1rem; border-radius: 8px; text-align: center;">
            <strong style="color: var(--gold);">Arcano ${arcano}:</strong>
            <p style="color: #e8dcc6; font-size: 0.9rem; margin-top: 0.5rem;">Idades: ${idadesArcanos[arcano].join(", ")}</p>
          </div>
        `;
      }
      
      html += `
            </div>
          </div>
        </div>
      `;
      
      resultadosDiv.innerHTML = html;
      resultadosDiv.classList.remove("hidden");
    }

    // Função para calcular os pináculos
    function calcularPinaculosCompletos() {
      const nome = document.getElementById("nomePinaculos").value.trim();
      const dataNascimento = document.getElementById("dataPinaculos").value;
      
      if (!nome || !dataNascimento) {
        alert("Por favor, preencha todos os campos.");
        return;
      }
      
      const pinaculos = calcularPinaculos(dataNascimento);
      renderResultadosPinaculos(pinaculos, nome);
    }

    function calcularPinaculos(dataNascimento) {
      const [ano, mes, dia] = dataNascimento.split("-").map(Number);
      
      const diaReduzido = reduzirNumero(dia);
      const mesReduzido = reduzirNumero(mes);
      const anoReduzido = reduzirNumero(ano);
      
      const p1 = reduzirNumero(diaReduzido + mesReduzido);
      const p2 = reduzirNumero(diaReduzido + anoReduzido);
      const p3 = reduzirNumero(p1 + p2);
      const p4 = reduzirNumero(mesReduzido + anoReduzido);
      
      const destino = reduzirNumero(dia + mes + ano);
      
      const duracaoP1 = 36 - destino;
      const duracaoP2 = duracaoP1 + 9;
      const duracaoP3 = duracaoP2 + 9;
      
      return [
        { numero: p1, inicio: 0, fim: duracaoP1 },
        { numero: p2, inicio: duracaoP1, fim: duracaoP2 },
        { numero: p3, inicio: duracaoP2, fim: duracaoP3 },
        { numero: p4, inicio: duracaoP3, fim: "Resto da vida" }
      ];
    }

    function renderResultadosPinaculos(pináculos, nome) {
      const resultadosDiv = document.getElementById("resultados-pinaculos");
      
      let html = `
        <div class="card">
          <h3 class="text-center">Pináculos da Vida de ${nome}</h3>
          <p class="text-center" style="margin-bottom: 2rem; color: #d4af37;">
            Os quatro grandes ciclos de aprendizado e crescimento da sua jornada terrena
          </p>
      `;
      
      for (let i = 0; i < pináculos.length; i++) {
        const pinaculo = pináculos[i];
        const interpretacao = textos_pinaculos_melhorados[`pinaculo_${pinaculo.numero}`];
        const analiseExpandida = textos_pinaculos_expandidos[`pinaculo_${pinaculo.numero}`];
        
        html += `
          <div class="pinaculo-card" style="margin-bottom: 2.5rem; padding: 2rem; background: rgba(11,24,54,0.2); border-radius: 15px; border-left: 5px solid #d4af37;">
            <h3 style="color: #d4af37; border-bottom: 2px solid rgba(212, 175, 55, 0.3); padding-bottom: 1rem; margin-bottom: 1.5rem;">
              ${i + 1}º Pináculo - Número ${pinaculo.numero}
            </h3>
            <p style="text-align: center; font-size: 1.1rem; color: #e8dcc6; margin-bottom: 2rem;">
              <strong>Período:</strong> ${pinaculo.inicio} aos ${pinaculo.fim} anos
            </p>
        `;
        
        // Análise Expandida
        if (analiseExpandida) {
          html += `
            <div style="margin-bottom: 2rem;">
              <h4 style="color: #d4af37; margin-bottom: 1rem;">Análise Detalhada do Pináculo</h4>
              <p style="color: #e8dcc6; line-height: 1.7; text-align: justify;">${analiseExpandida.significado_geral}</p>
            </div>
            
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 2rem; margin-bottom: 2rem;">
              <div style="padding: 1.5rem; background: rgba(212, 175, 55, 0.1); border-radius: 8px;">
                <h4 style="color: #d4af37; margin-bottom: 1rem;">✨ Pontos Positivos</h4>
                <ul style="color: #e8dcc6; line-height: 1.6;">
                  ${(analiseExpandida.pontos_positivos || []).map(ponto => `<li>${ponto}</li>`).join("")}
                </ul>
              </div>
              <div style="padding: 1.5rem; background: rgba(62,10,41,0.2); border-radius: 8px;">
                <h4 style="color: #f2eaff; margin-bottom: 1rem;">⚡️ Pontos Negativos</h4>
                <ul style="color: #e8dcc6; line-height: 1.6;">
                  ${(analiseExpandida.pontos_negativos || []).map(ponto => `<li>${ponto}</li>`).join("")}
                </ul>
              </div>
            </div>
            
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 2rem; margin: 2rem 0;">
              <div style="padding: 1.5rem; background: rgba(212, 175, 55, 0.1); border-radius: 8px; border-left: 4px solid #d4af37;">
                <h4 style="color: #d4af37; margin-bottom: 1rem;">🌟 O que Aproveitar</h4>
                <ul style="color: #e8dcc6; line-height: 1.6;">
                  ${(analiseExpandida.o_que_aproveitar || []).map(item => `<li>${item}</li>`).join("")}
                </ul>
              </div>
              <div style="padding: 1.5rem; background: rgba(242, 234, 255, 0.1); border-radius: 8px; border-left: 4px solid #f2eaff;">
                <h4 style="color: #f2eaff; margin-bottom: 1rem;">🚫 O que Evitar</h4>
                <ul style="color: #e8dcc6; line-height: 1.6;">
                  ${(analiseExpandida.o_que_evitar || []).map(item => `<li>${item}</li>`).join("")}
                </ul>
              </div>
            </div>
            
            <div style="margin-top: 2rem;">
              <h3 style="color: #d4af37; text-align: center; margin-bottom: 1.5rem;">Análise por Áreas da Vida</h3>
              
              <div style="display: grid; gap: 1.5rem;">
                <div style="padding: 1.5rem; background: rgba(62,10,41,0.2); border-radius: 8px;">
                  <h4 style="color: #d4af37; margin-bottom: 1rem;">🏠 Cotidiano</h4>
                  <p style="color: #e8dcc6; line-height: 1.7; text-align: justify;">${analiseExpandida.cotidiano || "Análise não disponível."}</p>
                </div>
                
                <div style="padding: 1.5rem; background: rgba(62,10,41,0.2); border-radius: 8px;">
                  <h4 style="color: #d4af37; margin-bottom: 1rem;">💰 Financeiro</h4>
                  <p style="color: #e8dcc6; line-height: 1.7; text-align: justify;">${analiseExpandida.financeiro || "Análise não disponível."}</p>
                </div>
                
                <div style="padding: 1.5rem; background: rgba(62,10,41,0.2); border-radius: 8px;">
                  <h4 style="color: #d4af37; margin-bottom: 1rem;">🌱 Crescimento Pessoal</h4>
                  <p style="color: #e8dcc6; line-height: 1.7; text-align: justify;">${analiseExpandida.pessoal || "Análise não disponível."}</p>
                </div>
                
                <div style="padding: 1.5rem; background: rgba(62,10,41,0.2); border-radius: 8px;">
                  <h4 style="color: #d4af37; margin-bottom: 1rem;">🙏 Espiritualidade</h4>
                  <p style="color: #e8dcc6; line-height: 1.7; text-align: justify;">${analiseExpandida.espiritual || "Análise não disponível."}</p>
                </div>
                
                <div style="padding: 1.5rem; background: rgba(62,10,41,0.2); border-radius: 8px;">
                  <h4 style="color: #d4af37; margin-bottom: 1rem;">💎 Crenças e Valores</h4>
                  <p style="color: #e8dcc6; line-height: 1.7; text-align: justify;">${analiseExpandida.crencas_valores || "Análise não disponível."}</p>
                </div>
              </div>
            </div>
          </div>
        `;
      }
      
      // Interpretação original da combinação específica
      if (interpretacao) {
        html += `
          <div style="margin-top: 2rem; padding: 1.5rem; border-left: 4px solid #d4af37; background: rgba(212, 175, 55, 0.1);">
            <h4 style="color: #d4af37; margin-bottom: 1rem;">
              ${interpretacao.titulo}
            </h4>
            <p style="line-height: 1.8; text-align: justify; color: #e8dcc6;">
              ${interpretacao.texto}
            </p>
          </div>
        `;
      }
      
      html += `
        </div>
      `;
      
      resultadosDiv.innerHTML = html;
      resultadosDiv.classList.remove("hidden");
    }

    // Funções de exemplo
    function preencherExemploMapa() {
      document.getElementById("nomeCompleto").value = "Maria Silva Santos";
      document.getElementById("dataNascimento").value = "1990-05-15";
    }

    function preencherExemploPiramide() {
      document.getElementById("nomePiramide").value = "Maria Silva Santos";
      document.getElementById("idadePiramide").value = "33";
    }

    function preencherExemploPinaculos() {
      document.getElementById("nomePinaculos").value = "Maria Silva Santos";
      document.getElementById("dataPinaculos").value = "1990-05-15";
    }

    function preencherExemploSinastria() {
      document.getElementById("nomePessoa1").value = "Maria Silva Santos";
      document.getElementById("dataPessoa1").value = "1990-05-15";
      document.getElementById("nomePessoa2").value = "João Carlos Oliveira";
      document.getElementById("dataPessoa2").value = "1988-08-22";
    }

    // Funções de limpeza
    function limparMapa() {
      document.getElementById("nomeCompleto").value = "";
      document.getElementById("dataNascimento").value = "";
      document.getElementById("resultados-mapa").classList.add("hidden");
    }

    function limparPiramide() {
      document.getElementById("nomePiramide").value = "";
      document.getElementById("idadePiramide").value = "";
      document.getElementById("resultados-piramide").classList.add("hidden");
    }

    function limparPinaculos() {
      document.getElementById("nomePinaculos").value = "";
      document.getElementById("dataPinaculos").value = "";
      document.getElementById("resultados-pinaculos").classList.add("hidden");
    }

    function limparSinastria() {
      document.getElementById("nomePessoa1").value = "";
      document.getElementById("dataPessoa1").value = "";
      document.getElementById("nomePessoa2").value = "";
      document.getElementById("dataPessoa2").value = "";
      document.getElementById("resultados-sinastria").classList.add("hidden");
    }


}


// Função para mudar abas
function changeTab(tabName) {
  // Esconder todas as seções
  const sections = document.querySelectorAll('.section');
  sections.forEach(section => section.classList.remove('active'));
  
  // Remover classe active de todas as abas
  const tabs = document.querySelectorAll('.nav-tab');
  tabs.forEach(tab => tab.classList.remove('active'));
  
  // Mostrar a seção selecionada
  const targetSection = document.getElementById(tabName);
  if (targetSection) {
    targetSection.classList.add('active');
  }
  
  // Adicionar classe active na aba clicada
  const clickedTab = event.target.closest('.nav-tab');
  if (clickedTab) {
    clickedTab.classList.add('active');
  }
}

// Função para calcular sinastria
function calcularSinastria() {
  const nome1 = document.getElementById("nomePessoa1").value.trim();
  const data1 = document.getElementById("dataPessoa1").value;
  const nome2 = document.getElementById("nomePessoa2").value.trim();
  const data2 = document.getElementById("dataPessoa2").value;
  
  if (!nome1 || !data1 || !nome2 || !data2) {
    alert("Por favor, preencha todos os campos.");
    return;
  }
  
  // Calcular perfis numerológicos de ambas as pessoas
  const perfil1 = calcularPerfilNumerologico(nome1, data1);
  const perfil2 = calcularPerfilNumerologico(nome2, data2);
  
  // Calcular compatibilidade
  const compatibilidade = calcularCompatibilidade(perfil1, perfil2);
  
  renderResultadosSinastria(compatibilidade, nome1, nome2);
}

// Função para calcular compatibilidade entre dois perfis
function calcularCompatibilidade(perfil1, perfil2) {
  const motivacaoComp = Math.abs(perfil1.motivacao - perfil2.motivacao);
  const impressaoComp = Math.abs(perfil1.impressao - perfil2.impressao);
  const expressaoComp = Math.abs(perfil1.expressao - perfil2.expressao);
  const destinoComp = Math.abs(perfil1.destino - perfil2.destino);
  
  return {
    motivacao: motivacaoComp,
    impressao: impressaoComp,
    expressao: expressaoComp,
    destino: destinoComp,
    geral: (motivacaoComp + impressaoComp + expressaoComp + destinoComp) / 4
  };
}

// Função para renderizar resultados da sinastria
function renderResultadosSinastria(compatibilidade, nome1, nome2) {
  const resultadosDiv = document.getElementById("resultados-sinastria");
  
  let html = `
    <div class="card">
      <h3 class="text-center">Sinastria Numerológica: ${nome1} & ${nome2}</h3>
      <div class="compatibility-grid">
        <div class="compatibility-card">
          <div class="compatibility-number">${compatibilidade.motivacao}</div>
          <div class="compatibility-type">Compatibilidade Motivacional</div>
          <p>Nível de harmonia entre os desejos íntimos e motivações profundas.</p>
        </div>
        
        <div class="compatibility-card">
          <div class="compatibility-number">${compatibilidade.impressao}</div>
          <div class="compatibility-type">Compatibilidade de Impressão</div>
          <p>Como vocês se apresentam ao mundo e a primeira impressão que causam.</p>
        </div>
        
        <div class="compatibility-card">
          <div class="compatibility-number">${compatibilidade.expressao}</div>
          <div class="compatibility-type">Compatibilidade de Expressão</div>
          <p>Harmonia na forma de se expressar e comunicar no relacionamento.</p>
        </div>
        
        <div class="compatibility-card">
          <div class="compatibility-number">${compatibilidade.destino}</div>
          <div class="compatibility-type">Compatibilidade de Destino</div>
          <p>Alinhamento dos propósitos de vida e caminhos evolutivos.</p>
        </div>
      </div>
      
      <div class="interpretation">
        <h4>Análise Geral da Compatibilidade</h4>
        <p>A compatibilidade geral entre ${nome1} e ${nome2} é de ${compatibilidade.geral.toFixed(1)} pontos.</p>
        <p>Quanto menor o número, maior a harmonia entre os perfis numerológicos.</p>
      </div>
    </div>
  `;
  
  resultadosDiv.innerHTML = html;
  resultadosDiv.classList.remove("hidden");
}


    // Função para preencher exemplo - ESTAVA FALTANDO!
    function preencherExemploMapa() {
      document.getElementById("nomeCompleto").value = "Maria Silva Santos";
      document.getElementById("dataNascimento").value = "1990-05-15";
    }

    // Função para limpar campos
    function limparCampos() {
      document.getElementById("nomeCompleto").value = "";
      document.getElementById("dataNascimento").value = "";
      const resultadosDiv = document.getElementById("resultados-mapa");
      if (resultadosDiv) {
        resultadosDiv.innerHTML = "";
        resultadosDiv.classList.add("hidden");
      }
    }

    // FORÇAR ATUALIZAÇÃO GITHUB PAGES - $(date)
