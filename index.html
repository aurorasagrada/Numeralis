<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Numeralis - Sistema Numerol√≥gico Completo Aurora Sagrada</title>
  <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;500;600&family=Cormorant+Garamond:ital,wght@0,400;0,500;0,600;1,400&display=swap" rel="stylesheet">
  <style>
    :root{ 
      --wine:#3e0a29; 
      --sage:#b2d1b1; 
      --navy:#0b1836; 
      --gold:#f0aa53; 
      --parch:#f2eaff;
    }
    
    * { box-sizing: border-box; }
    
    html,body{height:100%; margin:0; padding:0;}
    
    body{ 
      font-family:"Cormorant Garamond",serif; 
      background: var(--navy);
      background-image: 
        radial-gradient(circle at 25% 25%, rgba(240,170,83,0.03) 0%, transparent 50%),
        radial-gradient(circle at 75% 75%, rgba(178,209,177,0.03) 0%, transparent 50%),
        url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23f2eaff' fill-opacity='0.02'%3E%3Cpath d='M30 30c0-11.046-8.954-20-20-20s-20 8.954-20 20 8.954 20 20 20 20-8.954 20-20zm0 0c0 11.046 8.954 20 20 20s20-8.954 20-20-8.954-20-20-20-20 8.954-20 20z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E");
      color:var(--parch); 
      min-height:100vh;
      position: relative;
    }
    
    /* Header */
    .header {
      text-align: center;
      padding: 2rem 1rem;
      background: linear-gradient(135deg, var(--wine) 0%, var(--navy) 100%);
      border-bottom: 2px solid var(--gold);
      position: relative;
      overflow: hidden;
    }
    
    .header::before {
      content: '‚ú¶';
      position: absolute;
      top: 1rem;
      left: 2rem;
      font-size: 1.5rem;
      color: var(--gold);
      opacity: 0.6;
    }
    
    .header::after {
      content: '‚ú¶';
      position: absolute;
      top: 1rem;
      right: 2rem;
      font-size: 1.5rem;
      color: var(--gold);
      opacity: 0.6;
    }
    
    .header h1 {
      font-family: "Cinzel", serif;
      font-size: 2.5rem;
      font-weight: 600;
      margin: 0;
      background: linear-gradient(45deg, var(--gold), var(--parch));
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      text-shadow: 0 0 20px rgba(240,170,83,0.3);
    }
    
    .header p {
      font-size: 1.1rem;
      margin: 0.5rem 0 0 0;
      color: var(--sage);
      font-style: italic;
    }
    
    /* Navigation Tabs */
    .nav-container {
      background: rgba(62,10,41,0.8);
      backdrop-filter: blur(10px);
      border-bottom: 1px solid var(--gold);
      position: sticky;
      top: 0;
      z-index: 100;
    }
    
    .nav-tabs {
      display: flex;
      justify-content: center;
      max-width: 1200px;
      margin: 0 auto;
      padding: 0;
      list-style: none;
      flex-wrap: wrap;
    }
    
    .nav-tab {
      margin: 0;
      border-right: 1px solid rgba(240,170,83,0.2);
    }
    
    .nav-tab:last-child {
      border-right: none;
    }
    
    .nav-tab button {
      background: transparent;
      border: none;
      color: var(--parch);
      padding: 1rem 1.5rem;
      font-family: "Cormorant Garamond", serif;
      font-size: 1rem;
      font-weight: 500;
      cursor: pointer;
      transition: all 0.3s ease;
      position: relative;
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }
    
    .nav-tab button:hover {
      background: rgba(240,170,83,0.1);
      color: var(--gold);
    }
    
    .nav-tab.active button {
      background: var(--gold);
      color: var(--navy);
      font-weight: 600;
    }
    
    /* Sections */
    .section {
      display: none;
      padding: 2rem 1rem;
      max-width: 1200px;
      margin: 0 auto;
    }
    
    .section.active {
      display: block;
    }
    
    .card {
      background: rgba(62,10,41,0.6);
      backdrop-filter: blur(10px);
      border: 1px solid rgba(240,170,83,0.3);
      border-radius: 15px;
      padding: 2rem;
      margin-bottom: 2rem;
      box-shadow: 0 8px 32px rgba(0,0,0,0.3);
    }
    
    .card h2 {
      font-family: "Cinzel", serif;
      font-size: 1.8rem;
      margin: 0 0 1rem 0;
      color: var(--gold);
      text-align: center;
    }
    
    .card p {
      text-align: center;
      margin-bottom: 2rem;
      font-size: 1.1rem;
      line-height: 1.6;
      color: var(--sage);
    }
    
    /* Form Elements */
    .form-group {
      margin-bottom: 1.5rem;
    }
    
    .form-row {
      display: flex;
      gap: 1rem;
      flex-wrap: wrap;
    }
    
    .form-col {
      flex: 1;
      min-width: 250px;
    }
    
    label {
      display: block;
      margin-bottom: 0.5rem;
      font-weight: 500;
      color: var(--gold);
    }
    
    input {
      width: 100%;
      padding: 0.8rem 1rem;
      border: 2px solid rgba(240,170,83,0.3);
      border-radius: 8px;
      background: rgba(11,24,54,0.8);
      color: var(--parch);
      font-family: "Cormorant Garamond", serif;
      font-size: 1rem;
      transition: border-color 0.3s ease;
    }
    
    input:focus {
      outline: none;
      border-color: var(--gold);
      box-shadow: 0 0 0 3px rgba(240,170,83,0.1);
    }
    
    input::placeholder {
      color: rgba(242,234,255,0.5);
    }
    
    /* Buttons */
    .button-group {
      display: flex;
      gap: 1rem;
      justify-content: center;
      flex-wrap: wrap;
      margin-top: 2rem;
    }
    
    button {
      padding: 0.8rem 1.5rem;
      border: 2px solid var(--gold);
      border-radius: 8px;
      background: linear-gradient(135deg, var(--gold) 0%, #e09142 100%);
      color: var(--navy);
      font-family: "Cormorant Garamond", serif;
      font-size: 1rem;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s ease;
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }
    
    button:hover {
      background: linear-gradient(135deg, #e09142 0%, var(--gold) 100%);
      transform: translateY(-2px);
      box-shadow: 0 4px 12px rgba(240,170,83,0.3);
    }
    
    button:active {
      transform: translateY(0);
    }
    
    .btn-secondary {
      background: transparent;
      color: var(--sage);
      border-color: var(--sage);
    }
    
    .btn-secondary:hover {
      background: var(--sage);
      color: var(--navy);
    }
    
    /* Results */
    .results {
      margin-top: 2rem;
      padding: 2rem;
      background: rgba(11,24,54,0.8);
      border: 1px solid rgba(178,209,177,0.3);
      border-radius: 10px;
    }
    
    .results h3 {
      color: var(--gold);
      margin-bottom: 1rem;
      font-family: "Cinzel", serif;
    }
    
    .number-display {
      background: rgba(240,170,83,0.1);
      padding: 1rem;
      border-radius: 8px;
      margin-bottom: 1.5rem;
      text-align: center;
      font-weight: 600;
      color: var(--gold);
    }
    
    .result-item {
      margin-bottom: 2rem;
      padding: 1.5rem;
      background: rgba(62,10,41,0.3);
      border-radius: 8px;
      border-left: 4px solid var(--gold);
    }
    
    .result-item h4 {
      color: var(--gold);
      margin-bottom: 0.5rem;
      font-family: "Cinzel", serif;
    }
    
    .result-item p {
      line-height: 1.6;
      margin-bottom: 0.5rem;
    }
    
    .hidden {
      display: none !important;
    }
    
    /* Estilos para Mapa Expandido */
    .intensity-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
      gap: 0.5rem;
      margin: 1rem 0;
    }
    
    .intensity-item {
      background: rgba(240,170,83,0.1);
      border: 1px solid rgba(240,170,83,0.3);
      border-radius: 8px;
      padding: 0.5rem;
      text-align: center;
      font-size: 0.9rem;
      color: var(--parch);
    }
    
    .number-display h4 {
      color: var(--gold);
      font-family: "Cinzel", serif;
      margin-bottom: 0.5rem;
      font-size: 1.1rem;
    }
    
    .result-item h4 {
      border-bottom: 2px solid rgba(240,170,83,0.3);
      padding-bottom: 0.5rem;
      margin-bottom: 1rem;
    }
    
    /* Estilos para Se√ß√£o dos N√∫meros Fundamentais */
    .fundamental-numbers-section {
      background: linear-gradient(135deg, rgba(62,10,41,0.4) 0%, rgba(11,24,54,0.4) 100%);
      border: 2px solid var(--gold);
      border-radius: 15px;
      padding: 2rem;
      margin: 2rem 0;
      text-align: center;
      position: relative;
      overflow: hidden;
    }
    
    .fundamental-numbers-section::before {
      content: '';
      position: absolute;
      top: -50%;
      left: -50%;
      width: 200%;
      height: 200%;
      background: radial-gradient(circle, rgba(240,170,83,0.05) 0%, transparent 70%);
      animation: rotate 20s linear infinite;
    }
    
    @keyframes rotate {
      from { transform: rotate(0deg); }
      to { transform: rotate(360deg); }
    }
    
    .fundamental-title {
      font-family: "Cinzel", serif;
      font-size: 1.8rem;
      font-weight: 600;
      color: var(--gold);
      margin-bottom: 2rem;
      text-shadow: 0 0 10px rgba(240,170,83,0.5);
      position: relative;
      z-index: 1;
    }
    
    .fundamental-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 1.5rem;
      position: relative;
      z-index: 1;
    }
    
    .fundamental-card {
      background: rgba(242,234,255,0.1);
      border: 1px solid rgba(240,170,83,0.4);
      border-radius: 12px;
      padding: 1.5rem;
      text-align: center;
      transition: all 0.3s ease;
      position: relative;
      overflow: hidden;
    }
    
    .fundamental-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 10px 25px rgba(240,170,83,0.2);
      border-color: var(--gold);
    }
    
    .fundamental-symbol {
      font-size: 2rem;
      color: var(--gold);
      margin-bottom: 0.5rem;
      text-shadow: 0 0 10px rgba(240,170,83,0.5);
    }
    
    .fundamental-label {
      font-family: "Cinzel", serif;
      font-size: 1.1rem;
      font-weight: 500;
      color: var(--sage);
      margin-bottom: 0.5rem;
    }
    
    .fundamental-number {
      font-size: 3rem;
      font-weight: bold;
      color: var(--gold);
      margin: 0.5rem 0;
      text-shadow: 0 0 15px rgba(240,170,83,0.4);
    }
    
    .fundamental-desc {
      font-style: italic;
      color: var(--parch);
      font-size: 0.9rem;
      opacity: 0.9;
    }
    
    /* Estilos para Ciclos e Per√≠odos */
    .cycles-grid, .periods-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 1rem;
      margin: 1rem 0;
    }
    
    .cycle-card, .period-card {
      background: rgba(178,209,177,0.1);
      border: 1px solid rgba(178,209,177,0.3);
      border-radius: 10px;
      padding: 1rem;
      transition: all 0.3s ease;
    }
    
    .cycle-card:hover, .period-card:hover {
      transform: translateY(-2px);
      box-shadow: 0 5px 15px rgba(178,209,177,0.2);
    }
    
    .period-card.active {
      border-color: var(--gold);
      background: rgba(240,170,83,0.1);
      box-shadow: 0 0 15px rgba(240,170,83,0.2);
    }
    
    .current-phase {
      color: var(--gold);
      font-weight: bold;
      text-align: center;
      margin-top: 0.5rem;
      font-size: 0.9rem;
    }
    
    .cycle-card h5, .period-card h5 {
      color: var(--gold);
      font-family: "Cinzel", serif;
      margin-bottom: 0.5rem;
      font-size: 1rem;
    }
    
    /* Responsive */
    @media (max-width: 768px) {
      .header h1 {
        font-size: 2rem;
      }
      
      .nav-tabs {
        flex-direction: column;
      }
      
      .nav-tab {
        border-right: none;
        border-bottom: 1px solid rgba(240,170,83,0.2);
      }
      
      .form-row {
        flex-direction: column;
      }
      
      .explanation-text {
        background: rgba(184, 134, 11, 0.1);
        border-left: 4px solid #b8860b;
        padding: 15px;
        margin: 15px 0;
        border-radius: 8px;
        font-size: 0.95em;
        line-height: 1.6;
        color: #e6d7b8;
      }
      
      .explanation-text p {
        margin: 0;
      }
      
      .explanation-text strong {
        color: #ffd700;
      }
      
      .button-group {
        flex-direction: column;
        align-items: center;
      }
      
      button {
        width: 100%;
        max-width: 300px;
      }
    }
  </style>
</head>
<body>
  <!-- Header -->
  <header class="header">
    <h1>NUMERALIS</h1>
    <p>Sistema Numerol√≥gico Completo Aurora Sagrada</p>
  </header>

  <!-- Navigation -->
  <div class="nav-container">
    <ul class="nav-tabs">
      <li class="nav-tab active"><button onclick="changeTab('mapa-pitagorico')">üåü Mapa Pitag√≥rico</button></li>
      <li class="nav-tab"><button onclick="changeTab('piramide-cabalistica')">üî∫ Pir√¢mide Cabal√≠stica</button></li>
      <li class="nav-tab"><button onclick="changeTab('pinaculos-vida')">üèîÔ∏è Pin√°culos da Vida</button></li>
      <li class="nav-tab"><button onclick="changeTab('sinastria-numerologica')">üíï Sinastria Numerol√≥gica</button></li>
    </ul>
  </div>

  <!-- Main Content -->
  <main class="main-content">
    <!-- Mapa Pitag√≥rico -->
    <section id="mapa-pitagorico" class="section active">
      <div class="card">
        <h2>üåü Mapa Pitag√≥rico Completo</h2>
        <p>Descubra os n√∫meros que regem sua personalidade, destino e li√ß√µes c√°rmicas atrav√©s da sabedoria pitag√≥rica ancestral</p>
        
        <div class="form-row">
          <div class="form-col">
            <label for="nomeCompleto">Nome Completo de Nascimento</label>
            <input type="text" id="nomeCompleto" placeholder="Digite seu nome completo de nascimento">
          </div>
          <div class="form-col">
            <label for="dataNascimento">Data de Nascimento</label>
            <input type="date" id="dataNascimento">
          </div>
        </div>
        
        <div class="button-group">
          <button onclick="calcularMapaCompleto()">üåü Calcular Mapa Completo</button>
          <button onclick="preencherExemploMapa()" class="btn-secondary">üìù Exemplo</button>
          <button onclick="limparMapa()" class="btn-secondary">üóëÔ∏è Limpar</button>
        </div>
      </div>
      
      <div id="resultados-mapa" class="results hidden"></div>
    </section>

    <!-- Pir√¢mide Cabal√≠stica -->
    <section id="piramide-cabalistica" class="section">
      <div class="card">
        <h2>üî∫ Pir√¢mide Invertida Cabal√≠stica</h2>
        <p>Ciclo de 90 Anos - Arcanos Regentes da Vida e Sequ√™ncias Negativas<br>
        Descubra seu Arcano Regente atual e identifique padr√µes que influenciam sua jornada</p>
        
        <div class="form-row">
          <div class="form-col">
            <label for="nomePiramide">Nome Completo de Nascimento</label>
            <input type="text" id="nomePiramide" placeholder="Digite seu nome completo de nascimento">
          </div>
          <div class="form-col">
            <label for="idadePiramide">Idade Atual</label>
            <input type="number" id="idadePiramide" placeholder="Digite sua idade atual" min="1" max="120">
          </div>
        </div>
        
        <div class="button-group">
          <button onclick="calcularPiramideCompleta()">üî∫ Calcular Pir√¢mide Completa</button>
          <button onclick="preencherExemploPiramide()" class="btn-secondary">üìù Exemplo</button>
          <button onclick="limparPiramide()" class="btn-secondary">üóëÔ∏è Limpar</button>
        </div>
      </div>
      
      <div id="resultados-piramide" class="results hidden"></div>
    </section>

    <!-- Pin√°culos da Vida -->
    <section id="pinaculos-vida" class="section">
      <div class="card">
        <h2>üèîÔ∏è Pin√°culos da Vida</h2>
        <p>Os quatro grandes ciclos de aprendizado e crescimento da sua jornada terrena</p>
        
        <div class="form-row">
          <div class="form-col">
            <label for="nomePinaculos">Nome Completo</label>
            <input type="text" id="nomePinaculos" placeholder="Digite seu nome completo">
          </div>
          <div class="form-col">
            <label for="dataPinaculos">Data de Nascimento</label>
            <input type="date" id="dataPinaculos">
          </div>
        </div>
        
        <div class="button-group">
          <button onclick="calcularPinaculosCompletos()">üèîÔ∏è Calcular Pin√°culos Completos</button>
          <button onclick="preencherExemploPinaculos()" class="btn-secondary">üìù Exemplo</button>
          <button onclick="limparPinaculos()" class="btn-secondary">üóëÔ∏è Limpar</button>
        </div>
      </div>
      
      <div id="resultados-pinaculos" class="results hidden"></div>
    </section>

    <!-- Sinastria Numerol√≥gica -->
    <section id="sinastria-numerologica" class="section">
      <div class="card">
        <h2>üíï Sinastria Numerol√≥gica</h2>
        <p>An√°lise completa de compatibilidade amorosa atrav√©s dos n√∫meros sagrados</p>
        
        <div class="form-row">
          <div class="form-col">
            <label for="nomePessoa1">Nome Completo - Pessoa 1</label>
            <input type="text" id="nomePessoa1" placeholder="Digite o nome da primeira pessoa">
          </div>
          <div class="form-col">
            <label for="dataPessoa1">Data de Nascimento - Pessoa 1</label>
            <input type="date" id="dataPessoa1">
          </div>
        </div>
        
        <div class="form-row">
          <div class="form-col">
            <label for="nomePessoa2">Nome Completo - Pessoa 2</label>
            <input type="text" id="nomePessoa2" placeholder="Digite o nome da segunda pessoa">
          </div>
          <div class="form-col">
            <label for="dataPessoa2">Data de Nascimento - Pessoa 2</label>
            <input type="date" id="dataPessoa2">
          </div>
        </div>
        
        <div class="button-group">
          <button onclick="calcularSinastria()">üíï Calcular Sinastria Completa</button>
          <button onclick="preencherExemploSinastria()" class="btn-secondary">üìù Exemplo</button>
          <button onclick="limparSinastria()" class="btn-secondary">üóëÔ∏è Limpar</button>
        </div>
      </div>
      
      <div id="resultados-sinastria" class="results hidden"></div>
    </section>
  </main>

  <!-- Scripts - PRESERVANDO TODOS OS ARQUIVOS DE TEXTO -->
  <script src="interpretacoes_pitagoricas_ultra_expandidas.js"></script>
  <script src="textos_pinaculos_melhorados.js"></script>
  <script src="sinastria_expandida_completa.js"></script>
  <!-- Inclui mapeamentos de Arcanos e Sequ√™ncias Negativas -->
  <script src="mapeamento_arcanos_completo.js"></script>
  <script src="sequencias_negativas_expandidas.js"></script>
  <script src="piramide_cabalistica_corrigida.js"></script>
    <script src="sistema-funcional.js"></script>
  
  <!-- Aguardar carregamento completo dos scripts -->
  <script>
    // Aguardar que todos os scripts externos sejam carregados
    window.addEventListener('load', function() {
      setTimeout(function() {
        console.log('üîÑ Verificando carregamento dos scripts...');
        
        // Verificar se as fun√ß√µes principais est√£o dispon√≠veis
        if (typeof calcularPerfilNumerologico === 'function') {
          console.log('‚úÖ Fun√ß√£o calcularPerfilNumerologico carregada');
        } else {
          console.log('‚ö†Ô∏è Fun√ß√£o calcularPerfilNumerologico n√£o encontrada');
        }
        
        if (typeof interpretacoesPitagoricas !== 'undefined') {
          console.log('‚úÖ Interpreta√ß√µes pitag√≥ricas carregadas');
        } else {
          console.log('‚ö†Ô∏è Interpreta√ß√µes pitag√≥ricas n√£o encontradas');
        }
        
        console.log('üöÄ Sistema inicializado!');
      }, 500);
    });
  </script>
  
  <script>
    console.log('üöÄ SISTEMA NUMERALIS - VERS√ÉO FUNCIONAL CARREGADA!');
    
    // Fun√ß√£o de navega√ß√£o entre abas
    function changeTab(tab) {
        console.log('Navegando para:', tab);
        
        // Esconder todas as se√ß√µes
        document.querySelectorAll('.section').forEach(sec => {
            sec.classList.remove('active');
            sec.style.display = 'none';
        });
        
        // Remover classe active de todos os bot√µes
        document.querySelectorAll('.nav-tab').forEach(btn => btn.classList.remove('active'));
        
        // Mostrar se√ß√£o espec√≠fica
        const targetSection = document.getElementById(tab);
        if (targetSection) {
            targetSection.classList.add('active');
            targetSection.style.display = 'block';
            console.log('Se√ß√£o ativada:', tab);
        }
        
        // Ativar bot√£o correspondente
        const targetButton = document.querySelector(`button[onclick*="${tab}"]`);
        if (targetButton) {
            targetButton.parentElement.classList.add('active');
        }
    }
    
    // Fun√ß√µes para Mapa Pitag√≥rico
    function preencherExemploMapa() {
        document.getElementById('nomeCompleto').value = 'Maria Silva Santos';
        document.getElementById('dataNascimento').value = '1990-05-15';
    }
    
    function limparMapa() {
        document.getElementById('nomeCompleto').value = '';
        document.getElementById('dataNascimento').value = '';
        document.getElementById('resultados-mapa').innerHTML = '';
        document.getElementById('resultados-mapa').classList.add('hidden');
    }
    
    function calcularDestino(data) {
        const [ano, mes, dia] = data.split('-').map(Number);
        let soma = dia + mes + ano;
        while (soma > 9 && soma !== 11 && soma !== 22 && soma !== 33) {
            soma = soma.toString().split('').reduce((a, b) => parseInt(a) + parseInt(b), 0);
        }
        return html;
    }
    
    function calcularMapaCompleto() {
        const nome = document.getElementById('nomeCompleto').value.trim();
        const data = document.getElementById('dataNascimento').value;
        
        if (!nome || !data) {
            alert('Por favor, preencha todos os campos!');
            return;
        }
        
        const destino = calcularDestino(data);
        
        const resultadosDiv = document.getElementById('resultados-mapa');
        resultadosDiv.innerHTML = `
            <div class="resultado-card">
                <h3>üåü Mapa Pitag√≥rico Completo</h3>
                <div class="numeros-principais">
                    <span>‚òÄÔ∏è Destino: ${destino} | Nome: ${nome}</span>
                </div>
                <div class="explicacao-box">
                    <h4>üìä An√°lise Numerol√≥gica</h4>
                    <p>Seu n√∫mero de destino √© <strong>${destino}</strong>.</p>
                    <p>Este n√∫mero revela sua miss√£o de vida e os desafios que voc√™ veio superar nesta encarna√ß√£o.</p>
                    <p><strong>Data analisada:</strong> ${data}</p>
                </div>
            </div>
        `;
        resultadosDiv.classList.remove('hidden');
    }
    
    // Fun√ß√µes para Pir√¢mide Cabal√≠stica
    function preencherExemploPiramide() {
        document.getElementById('nomePiramide').value = 'Maria Silva Santos';
        document.getElementById('idadePiramide').value = '33';
    }
    
    function limparPiramide() {
        document.getElementById('nomePiramide').value = '';
        document.getElementById('idadePiramide').value = '';
        document.getElementById('resultados-piramide').innerHTML = '';
        document.getElementById('resultados-piramide').classList.add('hidden');
    }
    
    function calcularPiramideCompleta() {
        const nome = document.getElementById('nomePiramide').value.trim();
        const idade = parseInt(document.getElementById('idadePiramide').value);
        
        if (!nome || !idade) {
            alert('Por favor, preencha todos os campos!');
            return;
        }
        
        // Implementa√ß√£o direta da pir√¢mide cabal√≠stica
        const piramide = calcularPiramideNumerologica_Inline(nome);
        const arcanoAtual = obterArcanoAtual_Inline(idade);
        
        const resultadosDiv = document.getElementById('resultados-piramide');
        
        let html = `
            <div class="resultado-card" style="background: linear-gradient(135deg, rgba(62,10,41,0.1), rgba(11,24,54,0.1)); border: 2px solid var(--wine);">
                <h3 style="text-align: center; color: var(--gold); margin-bottom: 2rem;">
                    üî∫ SUA PIR√ÇMIDE CABAL√çSTICA COMPLETA
                </h3>
                
                <div style="text-align: center; margin-bottom: 2rem;">
                    <h4 style="color: var(--sage);">${nome}, ${idade} anos</h4>
                    <p style="color: var(--parch); font-style: italic;">
                        Descobra os mist√©rios de sua jornada atrav√©s da sabedoria cabal√≠stica ancestral
                    </p>
                </div>
                
                <div style="text-align: center; margin: 2rem 0; padding: 2rem; background: rgba(240,170,83,0.1); border-radius: 15px; border: 2px solid var(--gold);">
                    <h4 style="color: var(--gold); margin-bottom: 1.5rem;">‚ú® SEU ARCANO REGENTE ATUAL</h4>
                    <h5 style="color: #d4af37; margin-bottom: 1rem; font-size: 1.8rem; font-weight: bold;">${arcanoAtual.nome}</h5>
                    <p style="color: var(--sage); margin-bottom: 1.5rem;">Arcano Regente aos ${idade} anos</p>
                    <p style="color: var(--parch); line-height: 1.6;">${arcanoAtual.significado}</p>
                </div>
                
                <div style="margin: 2rem 0; text-align: center;">
                    <h4 style="color: var(--sage); margin-bottom: 2rem;">Pir√¢mide Cabal√≠stica - Ciclo de 90 Anos</h4>
                    <div style="font-family: monospace; color: #e6d7ff; line-height: 1.8;">
        `;
        
        // Renderizar pir√¢mide
        for (let i = 0; i < Math.min(piramide.length, 10); i++) {
            const linha = piramide[i];
            const maxLength = piramide[0].length;
            const espacosCount = Math.max(0, (maxLength - linha.length) * 2);
            const espacos = '&nbsp;'.repeat(espacosCount);
            
            html += `<div style="margin: 0.5rem 0;">`;
            html += espacos;
            
            for (let j = 0; j < linha.length; j++) {
                const numero = linha[j];
                const cor = i === piramide.length - 1 ? '#d4af37' : '#c9a96e';
                const tamanho = i === piramide.length - 1 ? '1.5em' : '1em';
                
                html += `<span style="color: ${cor}; font-size: ${tamanho}; font-weight: bold; margin: 0 0.8rem;">${numero}</span>`;
            }
            
            html += `</div>`;
        }
        
        html += `
                    </div>
                </div>
                
                <div style="background: rgba(178,209,177,0.1); padding: 1.5rem; border-radius: 10px; margin: 1.5rem 0;">
                    <h4 style="color: #d4af37; margin-bottom: 1rem;">üìä An√°lise Numerol√≥gica</h4>
                    <p style="line-height: 1.7; text-align: justify;">Sua pir√¢mide revela os padr√µes numerol√≥gicos que influenciam sua jornada atual. Cada n√∫mero representa aspectos diferentes de sua personalidade e destino, criando um mapa completo de sua evolu√ß√£o espiritual.</p>
                    <p style="line-height: 1.7; margin-top: 1rem;"><strong>Arcano Regente:</strong> ${arcanoAtual.nome} - ${arcanoAtual.influencia}</p>
                </div>
            </div>
        `;
        
        resultadosDiv.innerHTML = html;
        resultadosDiv.classList.remove('hidden');
    }
    
    // Fun√ß√µes auxiliares inline
    function calcularPiramideNumerologica_Inline(nome) {
        const nomeNumeros = nome.toUpperCase().split('').map(letra => {
            const codigo = letra.charCodeAt(0);
            if (codigo >= 65 && codigo <= 90) {
                return ((codigo - 65) % 9) + 1;
            }
            return 0;
        }).filter(n => n > 0);
        
        // Construir pir√¢mide completa
        let piramide = [nomeNumeros];
        
        while (piramide[piramide.length - 1].length > 1) {
            const linhaAtual = piramide[piramide.length - 1];
            const novaLinha = [];
            
            for (let i = 0; i < linhaAtual.length - 1; i++) {
                let soma = linhaAtual[i] + linhaAtual[i + 1];
                while (soma > 9) {
                    soma = soma.toString().split('').reduce((a, b) => parseInt(a) + parseInt(b), 0);
                }
                novaLinha.push(soma);
            }
            
            piramide.push(novaLinha);
        }
        
        return piramide;
    }
    
    function obterArcanoAtual_Inline(idade) {
        const arcanos = [
            { nome: 'O Louco', significado: 'Novos come√ßos, espontaneidade, f√© no universo', influencia: 'Momento de confiar na vida e dar saltos de f√©' },
            { nome: 'O Mago', significado: 'Manifesta√ß√£o, poder pessoal, habilidade', influencia: 'Per√≠odo de grande poder de manifesta√ß√£o' },
            { nome: 'A Sacerdotisa', significado: 'Intui√ß√£o, mist√©rio, sabedoria interior', influencia: 'Tempo de ouvir sua voz interior e confiar na intui√ß√£o' },
            { nome: 'A Imperatriz', significado: 'Criatividade, fertilidade, abund√¢ncia', influencia: 'Per√≠odo f√©rtil para cria√ß√£o e manifesta√ß√£o' },
            { nome: 'O Imperador', significado: 'Autoridade, estrutura, lideran√ßa', influencia: 'Momento de assumir lideran√ßa e criar estruturas s√≥lidas' },
            { nome: 'O Papa', significado: 'Tradi√ß√£o, ensino, orienta√ß√£o espiritual', influencia: 'Per√≠odo de aprendizado e busca por orienta√ß√£o' },
            { nome: 'Os Enamorados', significado: 'Escolhas, relacionamentos, uni√£o', influencia: 'Tempo de escolhas importantes em relacionamentos' },
            { nome: 'O Carro', significado: 'Determina√ß√£o, vit√≥ria, controle', influencia: 'Per√≠odo de conquistas atrav√©s da determina√ß√£o' },
            { nome: 'A For√ßa', significado: 'Coragem interior, paci√™ncia, compaixao', influencia: 'Momento de usar a for√ßa interior com sabedoria' },
            { nome: 'O Eremita', significado: 'Introspec√ß√£o, sabedoria, busca interior', influencia: 'Per√≠odo de reflex√£o e busca por respostas interiores' },
            { nome: 'A Roda da Fortuna', significado: 'Ciclos, destino, mudan√ßas', influencia: 'Momento de grandes mudan√ßas e novos ciclos' },
            { nome: 'A Justi√ßa', significado: 'Equil√≠brio, verdade, responsabilidade', influencia: 'Per√≠odo de busca por equil√≠brio e justi√ßa' },
            { nome: 'O Enforcado', significado: 'Sacrif√≠cio, nova perspectiva, paci√™ncia', influencia: 'Tempo de pausa e mudan√ßa de perspectiva' },
            { nome: 'A Morte', significado: 'Transforma√ß√£o, renascimento, fim de ciclos', influencia: 'Per√≠odo de grandes transforma√ß√µes e renascimento' },
            { nome: 'A Temperan√ßa', significado: 'Equil√≠brio, modera√ß√£o, harmonia', influencia: 'Momento de buscar equil√≠brio e harmonia' },
            { nome: 'O Diabo', significado: 'Tenta√ß√µes, limita√ß√µes, liberta√ß√£o', influencia: 'Per√≠odo de confronto com limita√ß√µes e medos' },
            { nome: 'A Torre', significado: 'Mudan√ßas s√∫bitas, revela√ß√µes, liberta√ß√£o', influencia: 'Momento de mudan√ßas dr√°sticas e revela√ß√µes' },
            { nome: 'A Estrela', significado: 'Esperan√ßa, inspira√ß√£o, renova√ß√£o', influencia: 'Per√≠odo de renova√ß√£o e nova esperan√ßa' },
            { nome: 'A Lua', significado: 'Ilus√µes, intui√ß√£o, mundo inconsciente', influencia: 'Tempo de explora√ß√£o do mundo inconsciente' },
            { nome: 'O Sol', significado: 'Alegria, sucesso, vitalidade', influencia: 'Per√≠odo de grande alegria e realiza√ß√£o' },
            { nome: 'O Julgamento', significado: 'Renascimento, perd√£o, nova vida', influencia: 'Momento de renascimento espiritual e perd√£o' },
            { nome: 'O Mundo', significado: 'Realiza√ß√£o, conclus√£o, totalidade', influencia: 'Per√≠odo de grande realiza√ß√£o e conclus√£o de ciclos' }
        ];
        
        const indiceArcano = (idade - 1) % 22;
        return arcanos[indiceArcano];
    }
    
    // Fun√ß√µes para Pin√°culos da Vida
    function preencherExemploPinaculos() {
        document.getElementById('nomePinaculos').value = 'Maria Silva Santos';
        document.getElementById('dataPinaculos').value = '1990-05-15';
    }
    
    function limparPinaculos() {
        document.getElementById('nomePinaculos').value = '';
        document.getElementById('dataPinaculos').value = '';
        document.getElementById('resultados-pinaculos').innerHTML = '';
        document.getElementById('resultados-pinaculos').classList.add('hidden');
    }
    
    function calcularPinaculosCompletos() {
        const nome = document.getElementById('nomePinaculos').value.trim();
        const data = document.getElementById('dataPinaculos').value;
        
        if (!nome || !data) {
            alert('Por favor, preencha todos os campos!');
            return;
        }
        
        const [ano, mes, dia] = data.split('-').map(Number);
        
        const pin√°culo1 = (mes + dia) % 9 || 9;
        const pin√°culo2 = (dia + ano % 100) % 9 || 9;
        const pin√°culo3 = (pin√°culo1 + pin√°culo2) % 9 || 9;
        const pin√°culo4 = (mes + ano % 100) % 9 || 9;
        
        const resultadosDiv = document.getElementById('resultados-pinaculos');
        resultadosDiv.innerHTML = `
            <div class="resultado-card">
                <h3>üèîÔ∏è Pin√°culos da Vida Completos</h3>
                <div class="numeros-principais">
                    <span>1¬∫: ${pin√°culo1} | 2¬∫: ${pin√°culo2} | 3¬∫: ${pin√°culo3} | 4¬∫: ${pin√°culo4}</span>
                </div>
                <div class="explicacao-box">
                    <h4>üåü Seus Quatro Grandes Ciclos</h4>
                    <p><strong>1¬∫ Pin√°culo (${pin√°culo1}):</strong> Juventude e forma√ß√£o (0-28 anos)</p>
                    <p><strong>2¬∫ Pin√°culo (${pin√°culo2}):</strong> Maturidade e constru√ß√£o (29-36 anos)</p>
                    <p><strong>3¬∫ Pin√°culo (${pin√°culo3}):</strong> Realiza√ß√£o e poder (37-45 anos)</p>
                    <p><strong>4¬∫ Pin√°culo (${pin√°culo4}):</strong> Sabedoria e legado (46+ anos)</p>
                </div>
            </div>
        `;
        resultadosDiv.classList.remove('hidden');
    }
    
    // Fun√ß√µes para Sinastria Numerol√≥gica
    function preencherExemploSinastria() {
        document.getElementById('nomePessoa1').value = 'Maria Silva Santos';
        document.getElementById('dataPessoa1').value = '1990-05-15';
        document.getElementById('nomePessoa2').value = 'Jo√£o Carlos Silva';
        document.getElementById('dataPessoa2').value = '1988-03-22';
    }
    
    function limparSinastria() {
        document.getElementById('nomePessoa1').value = '';
        document.getElementById('dataPessoa1').value = '';
        document.getElementById('nomePessoa2').value = '';
        document.getElementById('dataPessoa2').value = '';
        document.getElementById('resultados-sinastria').innerHTML = '';
        document.getElementById('resultados-sinastria').classList.add('hidden');
    }
    
    function calcularSinastria() {
        const nome1 = document.getElementById('nomePessoa1').value.trim();
        const data1 = document.getElementById('dataPessoa1').value;
        const nome2 = document.getElementById('nomePessoa2').value.trim();
        const data2 = document.getElementById('dataPessoa2').value;
        
        if (!nome1 || !data1 || !nome2 || !data2) {
            alert('Por favor, preencha todos os campos!');
            return;
        }
        
        const destino1 = calcularDestino(data1);
        const destino2 = calcularDestino(data2);
        const diferenca = Math.abs(destino1 - destino2);
        
        let compatibilidade = 'Alta';
        if (diferenca > 3) compatibilidade = 'M√©dia';
        if (diferenca > 6) compatibilidade = 'Baixa';
        
        const resultadosDiv = document.getElementById('resultados-sinastria');
        resultadosDiv.innerHTML = `
            <div class="resultado-card">
                <h3>üíï Sinastria Numerol√≥gica Completa</h3>
                <div class="numeros-principais">
                    <span>Compatibilidade: ${compatibilidade} | Diferen√ßa: ${diferenca}</span>
                </div>
                <div class="explicacao-box">
                    <h4>üíë An√°lise do Casal</h4>
                    <p><strong>${nome1}</strong> - Destino: ${destino1}</p>
                    <p><strong>${nome2}</strong> - Destino: ${destino2}</p>
                    <p>Compatibilidade geral: <strong>${compatibilidade}</strong></p>
                    <p>Esta an√°lise indica o potencial de harmonia entre os destinos numerol√≥gicos.</p>
                </div>
            </div>
        `;
        resultadosDiv.classList.remove('hidden');
    }
    
    // Implementar a fun√ß√£o da Pir√¢mide Cabal√≠stica completa
    function renderResultadosPiramideCompleta_Corrigida(piramide, arcanoAtual, sequenciasNegativasEncontradas, desafiosCarmicos, nome, idade) {
        const resultadosDiv = document.getElementById('resultados-piramide');
        
        let html = `
            <div class="resultado-card" style="background: linear-gradient(135deg, rgba(62,10,41,0.1), rgba(11,24,54,0.1)); border: 2px solid var(--wine);">
                <h3 style="text-align: center; color: var(--gold); margin-bottom: 2rem;">
                    üî∫ SUA PIR√ÇMIDE CABAL√çSTICA COMPLETA
                </h3>
                
                <div style="text-align: center; margin-bottom: 2rem;">
                    <h4 style="color: var(--sage);">${nome}, ${idade} anos</h4>
                    <p style="color: var(--parch); font-style: italic;">
                        Descobra os mist√©rios de sua jornada atrav√©s da sabedoria cabal√≠stica ancestral
                    </p>
                </div>
        `;
        
        // Arcano Regente Atual
        if (arcanoAtual && arcanoAtual.arcano) {
            html += `
                <div style="text-align: center; margin: 2rem 0; padding: 2rem; background: rgba(240,170,83,0.1); border-radius: 15px; border: 2px solid var(--gold);">
                    <h4 style="color: var(--gold); margin-bottom: 1.5rem;">‚ú® SEU ARCANO REGENTE ATUAL</h4>
                    <h5 style="color: #d4af37; margin-bottom: 1rem; font-size: 1.8rem; font-weight: bold;">${arcanoAtual.arcano}</h5>
                    <p style="color: var(--sage); margin-bottom: 1.5rem;">Arcano Regente aos ${idade} anos</p>
                    <p style="color: var(--parch); line-height: 1.6;">Este arcano rege sua energia atual e traz li√ß√µes espec√≠ficas para este per√≠odo de sua vida.</p>
                </div>
            `;
        }
        
        // Pir√¢mide Visual Simplificada
        if (piramide && piramide.length > 0) {
            html += `
                <div style="margin: 2rem 0; text-align: center;">
                    <h4 style="color: var(--sage); margin-bottom: 2rem;">Pir√¢mide Cabal√≠stica - Ciclo de 90 Anos</h4>
                    <div style="font-family: monospace; color: #e6d7ff; line-height: 1.8;">
            `;
            
            // Renderizar pir√¢mide
            for (let i = 0; i < Math.min(piramide.length, 10); i++) {
                const linha = piramide[i];
                const espacos = '&nbsp;'.repeat((10 - linha.length) * 2);
                
                html += `<div style="margin: 0.5rem 0;">`;
                html += espacos;
                
                for (let j = 0; j < linha.length; j++) {
                    const numero = linha[j];
                    const cor = i === piramide.length - 1 ? '#d4af37' : '#c9a96e';
                    const tamanho = i === piramide.length - 1 ? '1.5em' : '1em';
                    
                    html += `<span style="color: ${cor}; font-size: ${tamanho}; font-weight: bold; margin: 0 0.8rem;">${numero}</span>`;
                }
                
                html += `</div>`;
            }
            
            html += `
                    </div>
                </div>
            `;
        }
        
        // An√°lise Numerol√≥gica
        html += `
            <div style="background: rgba(178,209,177,0.1); padding: 1.5rem; border-radius: 10px; margin: 1.5rem 0;">
                <h4 style="color: #d4af37; margin-bottom: 1rem;">üìä An√°lise Numerol√≥gica</h4>
                <p style="line-height: 1.7; text-align: justify;">Sua pir√¢mide revela os padr√µes numerol√≥gicos que influenciam sua jornada atual. Cada n√∫mero representa aspectos diferentes de sua personalidade e destino, criando um mapa completo de sua evolu√ß√£o espiritual.</p>
            </div>
        `;
        
        // Sequ√™ncias Negativas (se houver)
        if (sequenciasNegativasEncontradas && sequenciasNegativasEncontradas.length > 0) {
            html += `
                <div style="background: rgba(240,170,83,0.1); padding: 1.5rem; border-radius: 10px; margin: 1.5rem 0; border: 2px solid #f0aa53;">
                    <h4 style="color: #f0aa53; margin-bottom: 1rem;">‚ö†Ô∏è Sequ√™ncias Negativas Identificadas</h4>
                    <p style="line-height: 1.7;">Foram identificadas ${sequenciasNegativasEncontradas.length} sequ√™ncia(s) que requerem aten√ß√£o especial em sua jornada.</p>
                </div>
            `;
        }
        
        // Desafios C√°rmicos (se houver)
        if (desafiosCarmicos && desafiosCarmicos.length > 0) {
            html += `
                <div style="background: rgba(62,10,41,0.1); padding: 1.5rem; border-radius: 10px; margin: 1.5rem 0; border: 2px solid var(--wine);">
                    <h4 style="color: var(--wine); margin-bottom: 1rem;">üî• Desafios C√°rmicos</h4>
                    <p style="line-height: 1.7;">Foram identificados ${desafiosCarmicos.length} desafio(s) c√°rmico(s) que sua alma escolheu desenvolver nesta encarna√ß√£o.</p>
                </div>
            `;
        }
        
        html += `</div>`;
        
        resultadosDiv.innerHTML = html;
        resultadosDiv.classList.remove('hidden');
    }
    
    // Disponibilizar globalmente
    window.renderResultadosPiramideCompleta_Corrigida = renderResultadosPiramideCompleta_Corrigida;
    
    // Inicializar sistema ap√≥s carregamento
    document.addEventListener('DOMContentLoaded', function() {
        console.log('üöÄ Sistema Numeralis inicializado!');
        changeTab('mapa-pitagorico');
    });
  </script>
</body>
</html>
